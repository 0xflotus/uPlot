/*! https://github.com/leeoniya/plotty (v0.1.0) */
var Plotty=function(){"use strict";var t=/([^{]*?)\w(?=\})/g,n={YYYY:"getFullYear",YY:"getYear",MM:function(t){return t.getMonth()+1},DD:"getDate",HH:"getHours",mm:"getMinutes",ss:"getSeconds",fff:"getMilliseconds"};function e(e,r){var i=[],o=0;return e.replace(t,(function(t,a,l){i.push(e.substring(o,l-1)),o=l+=t.length+1,i.push(r&&r[t]||function(e){return("00"+("string"==typeof n[t]?e[n[t]]():n[t](e))).slice(-t.length)})})),o!==e.length&&i.push(e.substring(o)),function(t){for(var n="",e=0,r=t||new Date;i.length>e;e++)n+="string"==typeof i[e]?i[e]:i[e](r);return n}}function r(t){var n=document,r=devicePixelRatio,i=Math,o=i.floor,a=i.round,l=i.ceil,u=i.min,c=i.max,f=i.pow,s=i.log10;if("string"==typeof t.format){var m=e(t.format);t.format=function(t){return m(new Date(1e3*t))}}var h=t.cursor,v=M("chart"),d=function(t,e){var i=n.createElement("canvas"),o=i.getContext("2d");return i.width=a(t*r),i.height=a(e*r),i.style.width=t+"px",i.style.height=e+"px",{can:i,ctx:o}}(t.width,t.height),g=d.can,p=d.ctx,x=t.data,y=x[0].length,w=0,b=y-1,Y=t.series,C={};function M(t,e){var r=n.createElement("div");return null!=t&&(r.className=t),null!=e&&e.appendChild(r),r}function D(t,n,e){return null==t?t:a((1-(t-n.min)/(n.max-n.min))*e)}function E(t,n,e){return a((t-n.min)/(n.max-n.min)*e)}function k(t){t&&(C={}),C.t={min:x[0][w],max:x[0][b]},Y.forEach((function(t,n){!function(t,n){t in C||(C[t]={min:1/0,max:-1/0});for(var e=C[t],r=w;b>=r;r++)e.min=u(e.min,n[r]),e.max=c(e.max,n[r]);var i=s(e.max-e.min),a=o(i),m=f(10,a);e.min=u(function(t,n){return o(t/n)*n}(e.min,m),e.min),e.max=c(function(t,n){return l(t/n)*n}(e.max,m),e.max)}(t.scale,x[n+1])}))}function H(){k(),p.clearRect(0,0,g.width,g.height),Y.forEach((function(t,n){!function(t,n,e,r,i){var o;p.lineWidth=1,p.strokeStyle=e;var a=!1;p.beginPath();for(var l=w;b>=l;l++){var u=E(t[l],r,g.width),c=D(n[l],i,g.height);null==c?(a=!0,p.moveTo(u,o)):(o=c,a?(p.moveTo(u,c),a=!1):p.lineTo(u,c))}p.stroke()}(x[0],x[n+1],t.color,C.t,C[t.scale])}))}H(),v.appendChild(g);var P,R,T=requestAnimationFrame;h&&(P=M("vt",v),R=M("hz",v));var F=M("region",v),S=M("legend",v),V=[{color:t.color,label:t.label}].concat(Y).map((function(t){var n=M("label",S);return n.style.color=t.color,n.textContent=t.label+": -",n})),X=Y.map((function(t){var n=M("dot",v);return n.style.background=t.color,n})),q=!1;function z(n){return function(t,n,e,r){var i;e=e||0;for(var a=2147483647>=(r=r||n.length-1);r-e>1;)t>n[i=a?e+r>>1:o((e+r)/2)]?e=i:r=i;return t-n[e]>n[r]-t?r:e}(x[0][w]+n/t.width*(x[0][b]-x[0][w]),x[0],w,b)}function A(t,n,e){t.style.transform="translate("+n+"px,"+e+"px)"}function B(){q=!1,h&&(A(P,W,0),A(R,0,j));var n=z(W),e=E(x[0][n],C.t,t.width);V[0].firstChild.nodeValue=t.label+": "+t.format(x[0][n]);for(var r=0;Y.length>r;r++){var i=D(x[r+1][n],C[Y[r].scale],t.height);A(X[r],e,i),V[r+1].firstChild.nodeValue=Y[r].label+": "+Y[r].format(x[r+1][n])}if(G){var o=u(L,W),a=c(L,W);F.style.left=o+"px",F.style.width=a-o+"px"}}var L=null,N=null,W=null,j=null,G=!1,I=g.getBoundingClientRect();function J(t,n,e){n.addEventListener(t,e,{passive:!0})}function K(t,n){w=t,b=n,k(!0),H()}J("mousemove",g,(function(t){W=t.clientX-I.left,j=t.clientY-I.top,q||(q=!0,T(B))})),J("mousedown",g,(function(t){L=t.clientX-I.left,N=t.clientY-I.top,G=!0})),J("mouseup",g,(function(){if(G=!1,W!=L||j!=N){F.style.left=0,F.style.width=0;var t=u(L,W),n=c(L,W);K(z(t),z(n))}})),J("dblclick",g,(function(){0==w&&b==y-1||K(0,y-1)})),this.root=v}return r.tinydate=e,r}();
