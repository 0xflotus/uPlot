/*! https://github.com/leeoniya/uPlot (v0.1.0) */
var uPlot=function(n){"use strict";var t=["January","February","March","April","May","June","July","August","September","October","November","December"],e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function r(n){return n.slice(0,3)}var i=e.map(r),o=t.map(r);function a(n){return(10>n?"0":"")+n}var l={YYYY:function(n){return n.getFullYear()},YY:function(n){return(n.getFullYear()+"").slice(2)},MMMM:function(n){return t[n.getMonth()]},MMM:function(n){return o[n.getMonth()]},MM:function(n){return a(n.getMonth()+1)},M:function(n){return n.getMonth()+1},DD:function(n){return a(n.getDate())},D:function(n){return n.getDate()},WWWW:function(n){return e[n.getDay()]},WWW:function(n){return i[n.getDay()]},HH:function(n){return a(n.getHours())},H:function(n){return n.getHours()},h:function(n){var t=n.getHours();return 0==t?12:t>12?t-12:t},AA:function(n){return 12>n.getHours()?"AM":"PM"},aa:function(n){return 12>n.getHours()?"am":"pm"},a:function(n){return 12>n.getHours()?"a":"p"},mm:function(n){return a(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return a(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function u(n){for(var t,e=[],r=/\{([a-z]+)\}|[^{]+/iy;t=r.exec(n);)e.push("{"==t[0][0]?l[t[1]]:t[0]);return function(n){for(var t="",r=0;e.length>r;r++)t+="string"==typeof e[r]?e[r]:e[r](n);return t}}function s(n,t,e,r){var i;e=e||0;for(var o=2147483647>=(r=r||t.length-1);r-e>1;)n>t[i=o?e+r>>1:v((e+r)/2)]?e=i:r=i;return n-t[e]>t[r]-n?r:e}function f(n,t,e,r){var i=t-n,o=x(i||h(t)||1),a=v(o),l=w(10,a)*e,u=0==i?l:0,s=T(function(n,t){return v(n/t)*t}(n-u,l)),f=T(Y(t+u,l));return r&&(0==i?t>0?s=0:0>t&&(f=0):(l>f-t&&(f+=l),l>n-s&&(s-=l),n>=0&&0>s&&(s=0),0>=t&&f>0&&(f=0))),[s,f]}var c=Math,h=c.abs,v=c.floor,m=c.round,d=c.ceil,p=c.min,g=c.max,w=c.pow,x=c.log10,b=c.PI;function y(n,t){return m(n/t)*t}function k(n,t,e){return p(g(n,t),e)}function S(n){return"function"==typeof n?n:function(){return n}}function M(n,t){return t}function Y(n,t){return d(n/t)*t}function D(n){return m(100*n)/100}function E(n){return m(1e3*n)/1e3}function T(n){return m(1e6*n)/1e6}var z=Object.assign,C=Array.isArray;function F(n){var t;if(C(n))t=n.map(F);else if(function(n){return"object"==typeof n&&null!==n}(n))for(var e in t={},n)t[e]=F(n[e]);else t=n;return t}var A=requestAnimationFrame,_=document,H=window,L=devicePixelRatio;function P(n,t){null!=t&&n.classList.add(t)}function W(n,t,e){n.style[t]=e+"px"}function N(n,t,e){var r=_.createElement(n);return null!=t&&P(r,t),null!=e&&e.appendChild(r),r}function j(n,t){return N("div",n,t)}function I(n,t,e){n.style.transform="translate("+t+"px,"+e+"px)"}var B={passive:!0};function G(n,t,e){t.addEventListener(n,e,B)}function J(n,t,e){t.removeEventListener(n,e,B)}function R(n,t,e){for(var r=[],i=n;t>i;i++)for(var o=0;e.length>o;o++){var a=e[o]*w(10,i);r.push(+a.toFixed(h(i)))}return r}var U=[1,2,5],V=R(-12,0,U),O=R(0,12,U),q=V.concat(O),X=3600,Z=24*X,K=30*Z,Q=365*Z,$=[5e-4].concat(R(-3,0,U),[1,5,10,15,30,60,300,600,900,1800,X,2*X,3*X,4*X,6*X,8*X,12*X,Z,2*Z,3*Z,4*Z,5*Z,6*Z,7*Z,8*Z,9*Z,10*Z,15*Z,K,2*K,3*K,4*K,6*K,Q,2*Q,5*Q,10*Q,25*Q,50*Q,100*Q]);function nn(n){return n.map((function(n){return[n[0],u(n[1]),n[2],u(n[4]?n[1]+n[3]:n[3])]}))}var tn="{M}/{D}",en="\n"+tn,rn="{h}:{mm}{aa}",on=nn([[Q,"{YYYY}",7,"",1],[28*Z,"{MMM}",7,"\n{YYYY}",1],[Z,tn,7,"\n{YYYY}",1],[X,"{h}{aa}",4,en,1],[60,rn,4,en,1],[1,":{ss}",2,en+" "+rn,1],[.001,":{ss}.{fff}",2,en+" "+rn,1]]);function an(n,t){return function(e,r){var i=E(r[1]-r[0]),o=t.find((function(n){return i>=n[0]})),a=null,l=null,u=null;return r.map((function(t){var e=n(t),r=e.getFullYear(),i=e.getDate(),s=e.getMinutes(),f=r!=a,c=i!=l,h=s!=u;return a=r,l=i,u=s,(7==o[2]&&f||4==o[2]&&c||2==o[2]&&h?o[3]:o[1])(e)}))}}function ln(n,t,e){return new Date(n,t,e)}function un(n){return u(n)}var sn=un("{YYYY}-{MM}-{DD} {h}:{mm}{aa}");function fn(n,t){return function(e,r){return t(n(r))}}var cn={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},hn=z({},cn,{size:10}),vn='12px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',mn="bold "+vn,dn={type:"x",show:!0,scale:"x",space:50,gap:5,size:50,labelSize:30,labelFont:mn,side:2,grid:cn,tick:hn,font:vn},pn={show:!0,scale:"x",min:1/0,max:-1/0};function gn(n,t){return t}function wn(n,t,e,r,i,o){for(var a=[],l=t=o?t:+Y(t,r).toFixed(12);e>=l;l=+(l+r).toFixed(12))a.push(l);return a}function xn(n,t){return t}var bn={type:"y",show:!0,scale:"y",space:40,gap:5,size:50,labelSize:30,labelFont:mn,side:3,grid:cn,tick:hn,font:vn},yn={scale:"y",show:!0,band:!1,alpha:1,values:null,min:1/0,max:-1/0,path:null,clip:null},kn={time:!0,auto:!1,distr:1,min:1/0,max:-1/0},Sn=z({},kn,{time:!1,auto:!0}),Mn={};function Yn(){var n=[];return{sub:function(t){n.push(t)},unsub:function(t){n=n.filter((function(n){return n!=t}))},pub:function(t,e,r,i,o,a,l){n.length>1&&n.forEach((function(n){n!=e&&n.pub(t,e,r,i,o,a,l)}))}}}function Dn(n,t,e){return[n[0],n[1]].concat(n.slice(2)).map((function(n,r){return z({},0==r||n&&n.side%2==0?t:e,n)}))}function En(n,t,e,r){return r+(1-(n-t.min)/(t.max-t.min))*e}function Tn(n,t,e,r){return r+(n-t.min)/(t.max-t.min)*e}function zn(n,t,e){return[t,e]}function Cn(n,t,e){return f(t,e,.2,!0)}function Fn(n){return 0==n.button}function An(n){var t;return[n=n.replace(/\d+/,(function(n){return t=m(n*L)})),t]}return n.Line=function(n,t,e){var r=this;((n=F(n)).plugins||[]).forEach((function(t){t.opts&&(n=t.opts(r,n)||n)}));var i=!1,o=Dn(n.series,pn,yn),a=Dn(n.axes||[],dn,bn),l=n.scales=n.scales||{},u=z({x:m(bn.size/2),y:m(dn.size/3)},n.gutters),f=n.tzDate||function(n){return new Date(1e3*n)},c=function(n){return function(t,e,r,i,o){var a=[],l=i>=K&&Q>i,u=n(e),s=u/1e3,f=ln(u.getFullYear(),u.getMonth(),l?1:u.getDate()),c=f/1e3;if(l)for(var h=i/K,m=s==c?s:ln(f.getFullYear(),f.getMonth()+h,1)/1e3,d=new Date(1e3*m),p=d.getFullYear(),g=d.getMonth(),w=0;r>=m;w++){var x=ln(p,g+h*w,1);(m=(+x+(x-n(x/1e3)))/1e3)>r||a.push(m)}else{var b=Z>i?i:Z,y=c+(v(e)-v(s))+Y(s-c,b);a.push(y);for(var k=n(y),S=k.getHours()+k.getMinutes()/60+k.getSeconds()/X,M=i/X;;){y=E(y+i);var D=v(T(S+M))%24,z=n(y).getHours()-D;if(z>1&&(z=-1),(y-=z*X)>r)break;S=(S+M)%24,.7>E((y-a[a.length-1])/i)*o||a.push(y)}}return a}}(f),d=an(f,on),w=fn(f,sn);r.series=o,r.axes=a,r.scales=l;var x={};for(var B in l){var R=l[B];null==R.min&&null==R.max||(x[B]={min:R.min,max:R.max})}var U=z({show:!0},n.legend);for(var V in o.forEach((function(n,t){var e=n.scale,r=l[e]=z({},0==t?kn:Sn,l[e]),i=r.time;r.range=S(r.range||(t>0&&!i?Cn:zn)),n.spanGaps=!0===n.spanGaps?M:S(n.spanGaps||[]);var o=n.value;n.value=i?function(n){return"string"==typeof n}(o)?fn(f,un(o)):o||w:o||xn,n.label=n.label||(i?"Time":"Value"),n.width=null==n.width?1:n.width,n.paths=n.paths||st,n._paths=null})),l){var tn=l[V];null!=tn.from&&(l[V]=z({},l[tn.from],tn))}var en=o[0].scale,rn=l[en].distr;a.forEach((function(n){if(n.show){var t=l[n.scale];null==t&&(n.scale=n.side%2?o[1].scale:en,t=l[n.scale]);var e=t.time;n.space=S(n.space),n.incrs=S(n.incrs||(2==t.distr?O:e?$:q)),n.ticks=S(n.ticks||(1==t.distr&&e?c:wn));var r=n.values;n.values=e?C(r)?an(f,nn(r)):r||d:r||gn,n.font=An(n.font),n.labelFont=An(n.labelFont)}}));var cn,hn=r.root=j("uplot");null!=n.id&&(hn.id=n.id),P(hn,n.class),n.title&&(j("title",hn).textContent=n.title);var vn,mn,_n,Hn,Ln,Pn,Wn,Nn,jn,In,Bn=null,Gn=null,Jn=null;function Rn(n,e){r.data=n,t=n.slice(),cn=(Jn=t[0]).length,2==rn&&(t[0]=Jn.map((function(n,t){return t}))),ht(),oe("setData"),!1!==e&&Un()}function Un(){Bn=0,Gn=cn-1,Ft(en,2==rn?Bn:t[0][Bn],2==rn?Gn:t[0][Gn])}function Vn(n,t,e,r){Xn.strokeStyle=n||"#000",Xn.lineWidth=t||1,Xn.lineJoin="round",Xn.setLineDash(e||[]),Xn.fillStyle=r||"#000"}function On(n,t){r.width=vn=_n=n,r.height=mn=Hn=t,Ln=Pn=0,function(){var n=!1,t=!1,e=!1,r=!1;a.forEach((function(i){if(i.show){var o=i.side,a=o%2,l=i.size+(i.labelSize=null!=i.label?i.labelSize||30:0);a?(_n-=l,3==o?(Ln+=l,r=!0):e=!0):(Hn-=l,0==o?(Pn+=l,n=!0):t=!0)}})),(n||t)&&(e||(_n-=u.x),r||(_n-=u.x,Ln+=u.x)),(r||e)&&(t||(Hn-=u.y),n||(Hn-=u.y,Pn+=u.y))}(),function(){var n=Ln+_n,t=Pn+Hn,e=Ln,r=Pn;function i(i,o){switch(i){case 1:return(n+=o)-o;case 2:return(t+=o)-o;case 3:return(e-=o)+o;case 0:return(r-=o)+o}}a.forEach((function(n){var t=n.side;n._pos=i(t,n.size),null!=n.label&&(n._lpos=i(t,n.labelSize))}))}();var e=r.bbox;Wn=e.left=y(Ln*L,.5),Nn=e.top=y(Pn*L,.5),jn=e.width=y(_n*L,.5),In=e.height=y(Hn*L,.5),W(Kn,"left",Ln),W(Kn,"top",Pn),W(Kn,"width",_n),W(Kn,"height",Hn),W(Qn,"left",Ln),W(Qn,"top",Pn),W(Qn,"width",_n),W(Qn,"height",Hn),W(Zn,"width",vn),W(Zn,"height",mn),qn.width=m(vn*L),qn.height=m(mn*L),i&&Un(),i&&oe("setSize")}r.setData=Rn,r.bbox={},r.setSize=function(n){On(n.width,n.height)};var qn=N("canvas"),Xn=r.ctx=qn.getContext("2d"),Zn=j("wrap",hn),Kn=j("under",Zn);Zn.appendChild(qn);var Qn=j("over",Zn);function $n(){if(Bt)Jt=!0;else{var n={};for(var e in l){var i=l[e],a=x[e];n[e]={min:i.min,max:i.max},null!=a?(z(i,a),e==en&&ht()):e!=en&&(i.min=1/0,i.max=-1/0)}for(var u in o.forEach((function(n,e){var i=n.scale,o=l[i];if(0==e){Bn=s(o.min,t[0]),Gn=s(o.max,t[0]),o.min>t[0][Bn]&&Bn++,t[0][Gn]>o.max&&Gn--,n.min=Jn[Bn],n.max=Jn[Gn];var a=o.range(r,o.min,o.max);o.min=a[0],o.max=a[1]}else if(n.show&&null==x[i]){var u=n.min==1/0?o.auto?function(n,t,e){for(var r=1/0,i=-1/0,o=t;e>=o;o++)null!=n[o]&&(r=p(r,n[o]),i=g(i,n[o]));return[r,i]}(t[e],Bn,Gn):[0,100]:[n.min,n.max];o.min=p(o.min,n.min=u[0]),o.max=g(o.max,n.max=u[1])}})),l){var f=l[u];if(null==f.from&&f.min!=1/0&&null==x[u]){var c=f.range(r,f.min,f.max);f.min=c[0],f.max=c[1]}x[u]=null}for(var h in l){var v=l[h];if(null!=v.from){var m=l[v.from];if(m.min!=1/0){var d=v.range(r,m.min,m.max);v.min=d[0],v.max=d[1]}}}var w={};for(var b in o.forEach((function(t){var e=t.scale,r=l[e];null==n[e]||r.min==n[e].min&&r.max==n[e].max||(w[e]=!0,t._paths=null)})),w)oe("setScale",b);pt.show&&Vt()}}var nt,tt,et,rt,it,ot,at,lt=1;function ut(n,t){var e=new Set(n.spanGaps(r,t)),i=null;if((t=t.filter((function(n){return!e.has(n)}))).length>0){i=new Path2D;for(var o=Wn,a=0;t.length>a;a++){var l=t[a];i.rect(o,Nn,l[0]-o,Nn+In),o=l[1]}i.rect(o,Nn,Wn+jn-o,Nn+In)}return i}function st(n,t,e,r,i,a){var l,u,s=o[t],f=1==lt?{stroke:new Path2D,fill:null,clip:null}:o[t-1]._paths,c=f.stroke,h=s.width,v=function(n){for(var t=k(Bn-1,0,cn-1),e=k(Gn+1,0,cn-1);null==n[t]&&t>0;)t--;for(;null==n[e]&&cn-1>e;)e++;return[t,e]}(r),d=v[0],w=v[1],x=1/0,b=-1/0,y=[],S=m(Tn(e[1==lt?d:w],i,jn,Wn));s.band&&1==lt&&h&&d==Bn&&c.lineTo(-h,m(En(r[d],a,In,Nn)));for(var M=1==lt?d:w;M>=d&&w>=M;M+=lt){var Y=m(Tn(e[M],i,jn,Wn));if(Y==S)null!=r[M]&&(l=m(En(r[M],a,In,Nn)),x=p(l,x),b=g(l,b));else{var D=!1;if(x!=1/0?(c.lineTo(S,x),c.lineTo(S,b),c.lineTo(S,l),u=S):D=!0,null!=r[M]?(l=m(En(r[M],a,In,Nn)),c.lineTo(Y,l),x=b=l,Y-S>1&&null==r[M-1]&&(D=!0)):(x=1/0,b=-1/0),D){var E=y[y.length-1];E&&E[0]==u?E[1]=Y:y.push([u,Y])}S=Y}}if(1==lt&&(f.clip=ut(s,y),null!=s.fill)){var T=f.fill=new Path2D(c),z=m(En(0,a,In,Nn));T.lineTo(Wn+jn,z),T.lineTo(Wn,z)}if(s.band){var C,F,A=100*h;-1==lt&&d==Bn&&(F=Wn-A,C=d),1==lt&&w==Gn&&(F=Wn+jn+A,C=w),c.lineTo(F,m(En(r[C],a,In,Nn))),lt*=-1}return f}function ft(n,t,e,i){var o=n.space(r,t,e,i),a=function(n,t,e,r){for(var i=e/n,o=0;t.length>o;o++){var a=t[o]*i;if(a>=r)return[t[o],a]}}(e-t,n.incrs(r,t,e,i,o),i,o);return a.push(a[1]/o),a}function ct(n,t,e,r,i,o,a,l){var u=o%2/2;Xn.translate(u,u),Vn(a,o,l),Xn.beginPath();var s,f,c,h,v=r+(0==e||3==e?-i:i);0==t?(f=r,h=v):(s=r,c=v),n.forEach((function(n){0==t?s=c=n:f=h=n,Xn.moveTo(s,f),Xn.lineTo(c,h)})),Xn.stroke(),Xn.translate(-u,-u)}function ht(){o.forEach((function(n,t){t>0&&(n.min=1/0,n.max=-1/0,n._paths=null)}))}function vt(){Bt?Gt=!0:(Xn.clearRect(0,0,qn.width,qn.height),oe("drawClear"),function(){a.forEach((function(n){if(n.show){var t=l[n.scale];if(t.min!=1/0){var e=n.side,i=e%2,o=t.min,a=t.max,u=ft(n,o,a,0==i?_n:Hn),s=u[1],f=n.ticks(r,o,a,u[0],u[2],2==t.distr),c=0==i?Tn:En,h=0==i?jn:In,v=0==i?Wn:Nn,d=f.map((function(n){return m(c(n,t,h,v))})),p=m(n.gap*L),g=n.tick,w=g.show?m(g.size*L):0,x=n.values(r,2==t.distr?f.map((function(n){return Jn[n]})):f,s),y=m(n._pos*L),k=y+(w+p)*(0==i&&0==e||1==i&&3==e?-1:1),S=0==i?k:0,M=1==i?k:0;Xn.font=n.font[0],Xn.fillStyle=n.stroke||"#000",Xn.textAlign=0==i?"center":3==e?"right":"left",Xn.textBaseline=1==i?"middle":2==e?"top":"bottom";var Y=1.5*n.font[1];if(d.forEach((function(n,t){0==i?M=n:S=n,(""+x[t]).split(/\n/gm).forEach((function(n,t){Xn.fillText(n,M,S+t*Y)}))})),n.label){Xn.save();var D=m(n._lpos*L);1==i?(M=S=0,Xn.translate(D,m(Nn+In/2)),Xn.rotate((3==e?-b:b)/2)):(M=m(Wn+jn/2),S=D),Xn.font=n.labelFont[0],Xn.textAlign="center",Xn.textBaseline=2==e?"top":"bottom",Xn.fillText(n.label,M,S),Xn.restore()}g.show&&ct(d,i,e,y,w,g.width,g.stroke);var E=n.grid;E.show&&ct(d,i,0==i?2:1,0==i?Nn:Wn,0==i?In:jn,E.width,E.stroke,E.dash)}}})),oe("drawAxes")}(),function(){o.forEach((function(n,e){e>0&&n.show&&null==n._paths&&(n._paths=n.paths(r,e,t[0],t[e],l[en],l[n.scale]))})),o.forEach((function(n,t){t>0&&n.show&&n._paths&&(function(n){var t=o[n];if(1==lt){var e=t._paths,r=e.stroke,i=e.fill,a=e.clip,l=t.width,u=l%2/2;Vn(t.stroke,l,t.dash,t.fill),Xn.globalAlpha=t.alpha,Xn.translate(u,u),Xn.save(),Xn.rect(Wn,Nn,jn,In),Xn.clip(),null!=a&&Xn.clip(a),t.band?(Xn.fill(r),l&&Xn.stroke(r)):(l&&Xn.stroke(r),null!=t.fill&&Xn.fill(i)),Xn.restore(),Xn.translate(-u,-u),Xn.globalAlpha=1}t.band&&(lt*=-1)}(t),oe("drawSeries",t))}))}(),nt=!0,oe("draw"))}function mt(n,t){var e=l[n];if(null==e.from){if(n==en&&e.time&&.001>ft(a[0],t.min,t.max,_n)[0])return;x[n]=t,nt=!1,$n(),!nt&&vt(),nt=!1}}r.redraw=vt,r.setScale=mt;var dt=!1,pt=r.cursor=z({show:!0,x:!0,y:!0,lock:!1,points:!0,drag:{setScale:!0,x:!0,y:!1},locked:!1,left:-10,top:-10,idx:null},n.cursor),gt=pt.focus,wt=pt.drag;if(pt.show){var xt="cursor-";pt.x&&(ot=pt.left,tt=j(xt+"x",Qn)),pt.y&&(at=pt.top,et=j(xt+"y",Qn))}var bt=j("select",Qn),yt=r.select={left:0,width:0,top:0,height:0};function kt(n,t){for(var e in null==n.width&&wt.y&&(n.width=_n),null==n.height&&wt.x&&(n.height=Hn),n)W(bt,e,yt[e]=n[e]);!1!==t&&oe("setSelect")}r.setSelect=kt;var St=null,Mt=null,Yt=!1;if(U.show){St=N("table","legend",hn);var Dt,Et=o[1].values;if(Yt=null!=Et){var Tt=N("tr","labels",St);for(var zt in N("th",null,Tt),Dt=Et(0))N("th",null,Tt).textContent=zt}else Dt={_:0},P(St,"inline");Mt=o.map((function(n,t){if(0==t&&Yt)return null;var e=[],r=N("tr","series",St);P(r,n.class),n.show||P(r,"off");var i=N("th",null,r),o=j("ident",i);n.width&&(o.style.borderColor=n.stroke),o.style.backgroundColor=n.fill;var a=j("text",i);for(var l in a.textContent=n.label,t>0&&(G("click",i,(function(e){pt.locked||Fn(e)&&At(t,{show:!n.show},ae.setSeries)})),gt&&G("mouseenter",i,(function(){pt.locked||At(t,{focus:!0},ae.setSeries)}))),Dt){var u=N("td",null,r);u.textContent="--",e.push(u)}return e}))}function Ct(n){var t=U.show?Mt[n][0].parentNode:null;o[n].show?t&&function(n){n.classList.remove("off")}(t):(t&&P(t,"off"),Pt&&I(Wt[n],0,-10))}function Ft(n,t,e){mt(n,{min:t,max:e})}function At(n,t,e){var i=o[n];if(null!=t.focus&&function(n){n!=Lt&&(o.forEach((function(t,e){!function(n,t){var e=o[n];_t(n,t),e.band&&_t(o[n+1].band?n+1:n-1,t)}(e,null==n||0==e||e==n?1:gt.alpha)})),Lt=n,vt())}(n),null!=t.show){if(i.show=t.show,Ct(n),i.band){var a=o[n+1]&&o[n+1].band?n+1:n-1;o[a].show=i.show,Ct(a)}Ft(en,l[en].min,l[en].max)}oe("setSeries",n,t),e&&ue.pub("setSeries",r,n,t)}function _t(n,t){o[n].alpha=t,Mt&&(Mt[n][0].parentNode.style.opacity=t)}r.setSeries=At;var Ht=Array(o.length),Lt=null;gt&&U.show&&G("mouseleave",St,(function(){pt.locked||(At(null,{focus:!1},ae.setSeries),Vt())}));var Pt=pt.show&&pt.points,Wt=Pt?o.map((function(n,t){if(t>0){var e=j("cursor-pt",Qn);P(e,n.class),e.style.background=n.stroke;var r=g(5,2*n.width-1),i=(r-1)/-2;return W(e,"width",r),W(e,"height",r),W(e,"marginLeft",i),W(e,"marginTop",i),I(e,-10,-10),e}})):null,Nt=0;function jt(n,t){var e=k(n/(t==en?_n:Hn),0,1),r=l[t];return r.min+e*(r.max-r.min)}function It(n){return s(jt(n,en),t[0],Bn,Gn)}r.posToIdx=It,r.posToVal=function(n,t){return jt(t==en?n:Hn-n,t)},r.valToPos=function(n,t){return t==en?Tn(n,l[t],_n,0):En(n,l[t],Hn,0)};var Bt=!1,Gt=!1,Jt=!1,Rt=!1;function Ut(n){Bt=!0,n(r),Bt=!1,Jt&&$n(),Rt&&Vt(),Gt&&!nt&&vt(),Jt=Rt=Gt=nt=Bt}function Vt(n){if(Bt)Rt=!0;else{var e;if(Nt=0,pt.show&&(pt.x&&I(tt,m(ot),0),pt.y&&I(et,0,m(at))),0>ot){e=null;for(var a=0;o.length>a;a++)if(a>0&&(Ht[a]=1/0,Pt&&I(Wt[a],-10,-10)),U.show){if(0==a&&Yt)continue;for(var u=0;Mt[a].length>u;u++)Mt[a][u].firstChild.nodeValue="--"}gt&&At(null,{focus:!0},ae.setSeries)}else{e=It(ot);for(var s=D(Tn(t[0][e],l[en],_n,0)),f=0;o.length>f;f++){var c=o[f];if(f>0&&c.show){var v=t[f][e],d=null==v?-10:D(En(v,l[c.scale],Hn,0));Ht[f]=d>0?h(d-at):1/0,Pt&&I(Wt[f],s,d)}else Ht[f]=1/0;if(U.show){if(0==f&&Yt)continue;var w=0==f&&2==rn?Jn:t[f],x=Yt?c.values(r,e):{_:c.value(r,w[e],e,f)},b=0;for(var y in x)Mt[f][b++].firstChild.nodeValue=x[y]}}if(dt){if(wt.x){var k=p(rt,ot),S=g(rt,ot);W(bt,"left",yt.left=k),W(bt,"width",yt.width=S-k)}if(wt.y){var M=p(it,at),Y=g(it,at);W(bt,"top",yt.top=M),W(bt,"height",yt.height=Y-M)}}}if(null!=n&&(ue.pub("mousemove",r,ot,at,_n,Hn,e),gt)){var E=p.apply(null,Ht),T=null;E>gt.prox||Ht.some((function(n,t){if(n==E)return T=t})),At(T,{focus:!0},ae.setSeries)}pt.idx=e,pt.left=ot,pt.top=at,i&&oe("setCursor")}}r.batch=Ut,r.setCursor=function(n){ot=n.left,at=n.top,Vt()};var Ot=null;function qt(){Ot=Qn.getBoundingClientRect()}function Xt(n,t,e,r,i,o){pt.locked||(null==Ot&&qt(),Zt(n,0,e,r,i,o,0,!1,null!=n),null!=n?0==Nt&&(Nt=A(Vt)):Vt())}function Zt(n,t,e,r,i,o,a,l,u){null!=n?(e=n.clientX-Ot.left,r=n.clientY-Ot.top):(e=_n*(e/i),r=Hn*(r/o)),u&&(e>1&&_n-1>e||(e=y(e,_n)),r>1&&Hn-1>r||(r=y(r,Hn))),l?(rt=e,it=r):(ot=e,at=r)}function Kt(){kt({width:wt.x?0:_n,height:wt.y?0:Hn},!1)}function Qt(n,t,e,i,o,a){(null==n||Fn(n))&&(dt=!0,Zt(n,0,e,i,o,a,0,!0,!0),(wt.x||wt.y)&&Kt(),null!=n&&(G("mouseup",_,$t),ue.pub("mousedown",r,rt,it,_n,Hn,null)))}function $t(n,t,e,i,o,a){(null==n||Fn(n))&&(dt=!1,Zt(n,0,e,i,o,a,0,!1,!0),ot!=rt||at!=it?(kt(yt),wt.setScale&&(Ut((function(){if(wt.x){var n=2==rn?It:jt;Ft(en,n(yt.left,en),n(yt.left+yt.width,en))}if(wt.y)for(var t in l)t!=en&&null==l[t].from&&Ft(t,jt(Hn-yt.top-yt.height,t),jt(Hn-yt.top,t))})),Kt())):pt.lock&&(pt.locked=!pt.locked,pt.locked||Vt()),null!=n&&(J("mouseup",_,$t),ue.pub("mouseup",r,ot,at,_n,Hn,null)))}function ne(n){Un(),null!=n&&ue.pub("dblclick",r,ot,at,_n,Hn,null)}var te,ee={};ee.mousedown=Qt,ee.mousemove=Xt,ee.mouseup=$t,ee.dblclick=ne,ee.setSeries=function(n,t,e,r){At(e,r)},pt.show&&(G("mousedown",Qn,Qt),G("mousemove",Qn,Xt),G("mouseleave",Qn,(function(){pt.locked||dt||(ot=-10,at=-10,Vt(1))})),wt.setScale&&G("dblclick",Qn,ne),te=function(n){var t=null;function e(){t=null,n()}return function(){clearTimeout(t),t=setTimeout(e,100)}}(qt),G("resize",H,te),G("scroll",H,te));var re=r.hooks=n.hooks||{},ie=[r];function oe(n){if(n in re){var t=ie.concat(Array.prototype.slice.call(arguments,1));re[n].forEach((function(n){n.apply(null,t)}))}}(n.plugins||[]).forEach((function(n){for(var t in n.hooks)re[t]=(re[t]||[]).concat(n.hooks[t])}));var ae=z({key:null,setSeries:!1},pt.sync),le=ae.key,ue=null!=le?Mn[le]=Mn[le]||Yn():Yn();function se(){On(n.width,n.height),oe("init",n,t),Rn(t||n.data,!1),x[en]?mt(en,x[en]):Un(),kt(yt,!1),i=!0,oe("ready")}ue.sub(r),r.pub=function(n,t,e,r,i,o,a){ee[n](null,t,e,r,i,o,a)},r.destroy=function(){ue.unsub(r),J("resize",H,te),J("scroll",H,te),hn.remove(),oe("destroy")},e?e instanceof HTMLElement?(e.appendChild(hn),se()):e(r,se):se()},n.fmtDate=u,n.rangeNum=f,n.tzDate=function(n,t){var e=new Date(n.toLocaleString("en-US",{timeZone:t}));return e.setMilliseconds(n.getMilliseconds()),e},n}({});
