/*! https://github.com/leeoniya/uPlot (v0.1.0) */
var uPlot=function(){"use strict";var n=["January","February","March","April","May","June","July","August","September","October","November","December"],t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function e(n){return n.slice(0,3)}var r=t.map(e),u=n.map(e);function o(n){return(10>n?"0":"")+n}var a="getFullYear",i="getMonth",c="getDate",l={YYYY:function(n){return n[a]()},YY:function(n){return(n[a]()+"").slice(2)},MMMM:function(t){return n[t[i]()]},MMM:function(n){return u[n[i]()]},MM:function(n){return o(n[i]()+1)},M:function(n){return n[i]()+1},DD:function(n){return o(n[c]())},D:function(n){return n[c]()},WWWW:function(n){return t[n.getDay()]},WWW:function(n){return r[n.getDay()]},HH:function(n){return o(n.getHours())},H:function(n){return n.getHours()},h:function(n){var t=n.getHours();return 0==t?12:t>12?t-12:t},AA:function(n){return 12>n.getHours()?"AM":"PM"},aa:function(n){return 12>n.getHours()?"am":"pm"},mm:function(n){return o(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return o(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function f(n){for(var t,e=[],r=/\{([a-z]+)\}|[^{]+/iy;t=r.exec(n);)e.push("{"==t[0][0]?l[t[1]]:t[0]);return function(n){for(var t="",r=0;e.length>r;r++)t+="string"==typeof e[r]?e[r]:e[r](n);return t}}var s=requestAnimationFrame,v=document,m=window,h=devicePixelRatio,d=Math,p=d.floor,g=d.round,y=d.ceil,x=d.min,b=d.max,M=d.pow,D=d.log10;function w(n,t){return y(n/t)*t}var T="width",Y="height",E="top",W="bottom",H="left",S="right",C="firstChild",k="nextSibling",A="createElement",P="#000",j="mousemove",F="mousedown",z="mouseup",J="dblclick",L=Object.assign,R={color:"#eee",width:2},V=60,N=V*V,O=24*N,X=[.001,.002,.005,.01,.02,.05,.1,.2,.5],q=X.concat([1,5,10,15,30,V,5*V,10*V,15*V,30*V,N,2*N,3*N,4*N,6*N,8*N,12*N,O,2*O,3*O,4*O,5*O,6*O,7*O,8*O,9*O,10*O,365*O]);function B(n){var t=n[1]-n[0],e=f(O>t?N>t?V>t?1>t?"{h}:{mm}:{ss}.{fff}{aa}":"{M}/{DD}\n{h}:{mm}:{ss}{aa}":"{M}/{DD}\n{h}:{mm}{aa}":"{M}/{DD}\n{h}{aa}":"{M}/{D}");return n.map((function(n){return e(new Date(1e3*n))}))}var G=f("{YYYY}-{MM}-{DD} {h}:{mm}{aa}");function I(n){return G(new Date(1e3*n))}var K={type:"t",scale:"x",space:40,height:30,side:0,class:"x-vals",grid:R},Q="Value",U="Time",Z={type:"t",scale:"x"},$=X.concat([1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,1e6,2e6,5e6,1e7,2e7,5e7,1e8,2e8,5e8,1e9]);function _(n){return n}function nn(n){return n}var tn={type:"n",scale:"y",space:30,width:50,side:1,class:"y-vals",grid:R},en={type:"n",scale:"y",shown:!0},rn={};function un(){var n=[];return{sub:function(t){n.push(t)},pub:function(t,e,r,u,o,a,i){n.length>1&&n.forEach((function(n){n!=e&&n.pub(t,e,r,u,o,a,i)}))}}}function on(n,t){function e(n,t,e){return[n.x].concat(n.y).map((function(n,r){return L({},0==r?t:e,n)}))}var r=e(n.series,Z,en),u=e(n.axes,K,tn);r.forEach((function(n){var t="t"==n.type;n.value=n.value||(t?I:nn),n.label=n.label||(t?U:Q)}));var o,l,f,d={},y=n.cursor;function R(n,e,r,u){o=(t=n)[0].length,Yn(e,r,u)}function V(n,t,e){n.style[t]=e+"px"}function N(n,t,e,r){xn.strokeStyle=n||P,xn.lineWidth=t||1,xn.setLineDash(e||[]),xn.fillStyle=r||P}this.setData=R;var O=bn("chart"),X=bn("plot",O),G=n[T],on=n[Y],an=G,cn=on,ln=0,fn=0;u.forEach((function(n){var t=n.side;if(t%2){var e=n[T]=n[T]||40;an-=e,1==t&&(ln+=e)}else{var r=n[Y]=n[Y]||30;cn-=r,2==t&&(fn+=r)}var u="t"==n.type;n.incrs=n.incrs||(u?q:$),n.values=n.values||(u?B:_)}));var sn=G-ln,vn=on-fn,mn=ln+an,hn=fn+cn;u.forEach((function(n){var t=n.side,e=t%2,r=n.root=bn((e?"y":"x")+"-labels-"+t,O);if(e){var u=n[T];V(r,T,u),V(r,Y,cn),V(r,E,fn),1==t?(V(r,S,sn),sn+=u):(V(r,H,mn),mn+=u)}else{var o=n[Y];V(r,Y,o),V(r,T,an),V(r,H,ln),2==t?(V(r,W,vn),vn+=o):(V(r,E,hn),hn+=o)}})),V(X,E,fn),V(X,H,ln),V(O,T,G),V(O,Y,on);var dn,pn,gn=function(n,t){var e=v[A]("canvas"),r=e.getContext("2d");return e[T]=g(n*h),e[Y]=g(t*h),V(e,T,n),V(e,Y,t),{can:e,ctx:r}}(an,cn),yn=gn.can,xn=gn.ctx;function bn(n,t){var e=v[A]("div");return null!=n&&(e.className=n),null!=t&&t.appendChild(e),e}function Mn(n,t,e){return null==n?n:g((1-(n-t.min)/(t.max-t.min))*e)+.5}function Dn(n,t,e){return g((n-t.min)/(t.max-t.min)*e)+.5}function wn(n,t){return[n,t]}function Tn(n,t,e){var r=new Date(1e3*n),u=+new Date(r[a](),r[i](),r[c]())/1e3;return[u+w(n-u,e),t]}function Yn(e,o,a){l=null!=e?e+(a?l:0):l,f=null!=o?o+(a?f:0):f,function(){d={},r.forEach((function(n,e){var r=n.scale;r in d||(d[r]={min:1/0,max:-1/0});var u=d[r];u.adj=u.adj||("t"==n.type?Tn:wn),0==e?(u.min=t[0][l],u.max=t[0][f]):n.shown&&function(n,t){for(var e=l;f>=e;e++)n.min=x(n.min,t[e]),n.max=b(n.max,t[e]);var r=n.max-n.min,u=D(r||n.max),o=p(u),a=M(10,o)/2,i=0==r?a:0;n.min=function(n,t){return p(n/t)*t}(n.min-i,a),n.max=w(n.max+i,a)}(u,t[e])}))}(),xn.clearRect(0,0,yn[T],yn[Y]),function(){u.forEach((function(t,e){var r,u=0==e?0:1,o=0==u?T:Y,a=0==u?Y:T,i=d[t.scale];if(null!=i){var c=i.min,l=i.max,f=i.adj,s=function(n,t,e,r){for(var u=e/n,o=0;t.length>o;o++){var a=t[o]*u;if(a>=r)return[t[o],a]}}(l-c,t.incrs,n[o],t.space),v=s[0],m=s[1];l=(r=f(c,l,v))[1];for(var p=[],y=c=r[0];l>=y;y+=v)p.push(y);var x=t.values(p,m),b=0==u?Dn:Mn,M=0==u?H:E,D=p.map((function(n){return b(n,i,yn[o])})),w=t.root[C];if(D.forEach((function(n,e){w=function(n,t,e,r,u){var o=n||bn(null,t);return o.textContent=e,V(o,r,u),o}(w,t.root,x[e],M,g(n/h))[k]})),w){for(var W;W=w[k];)W.remove();w.remove()}var S=t.grid;S&&(N(S.color||"#eee",S[T],S.dash),xn.beginPath(),D.forEach((function(n){var t,e,r,o;0==u?(e=0,o=yn[a],t=r=n):(t=0,r=yn[a],e=o=n),xn.moveTo(t,e),xn.lineTo(r,o)})),xn.stroke())}}))}(),function(){r.forEach((function(n,e){e>0&&n.shown&&function(n,t,e,r,u,o,a,i){N(u,o,a,i);var c,s,v,m,h,d,p=!1;xn.beginPath();for(var g=l;f>=g;g++)h=Dn(n[g],e,yn[T]),null==(d=Mn(t[g],r,yn[Y]))?(p=!0,xn.moveTo(h,m)):(h!=c?(p?(xn.moveTo(h,d),p=!1):g>l&&(xn.moveTo(c,v),xn.lineTo(c,s),xn.moveTo(c,m),xn.lineTo(h,d)),s=v=d,c=h):(s=x(d,s),v=b(d,v)),m=d);xn.stroke()}(t[0],t[e],d[r[0].scale],d[n.scale],n.color,n[T],n.dash,n.fill)}))}(),jn()}this.setView=Yn,y&&(dn=bn("vt",X),pn=bn("hz",X),An(dn,an/2,0),An(pn,0,cn/2));var En=bn("region",X),Wn=bn("legend",O),Hn=r.map((function(n,t){var e=bn("label",Wn);return e.style.color=n.color,e.textContent=n.label+": -",t>0&&On("click",e,(function(){n.shown=!n.shown,e.classList.toggle("off"),Yn(l,f)})),e})),Sn=r.map((function(n,t){if(t>0&&n.shown){var e=bn("dot",X);return e.style.background=n.color,e}})),Cn=!1;function kn(n){return function(n,t,e,r){var u;e=e||0;for(var o=2147483647>=(r=r||t.length-1);r-e>1;)n>t[u=o?e+r>>1:p((e+r)/2)]?e=u:r=u;return n-t[e]>t[r]-n?r:e}(t[0][l]+n/an*(t[0][f]-t[0][l]),t[0],l,f)}function An(n,t,e){n.style.transform="translate("+t+"px,"+e+"px)"}var Pn=this;function jn(n){Cn=!1,y&&(An(dn,Jn,0),An(pn,0,Ln));for(var e=kn(Jn),u=Dn(t[0][e],d[r[0].scale],an),o=0;r.length>o;o++){var a=r[o];if(o>0&&a.shown){var i=Mn(t[o][e],d[a.scale],cn);An(Sn[o],u,i)}Hn[o][C].nodeValue=a.label+": "+a.value(t[o][e])}if(Rn){var c=x(Fn,Jn),l=b(Fn,Jn);V(En,H,c),V(En,T,l-c)}!1!==n&&In.pub(j,Pn,Jn,Ln,an,cn,e)}var Fn=null,zn=null,Jn=null,Ln=null,Rn=!1,Vn=null;function Nn(){Vn=yn.getBoundingClientRect()}function On(n,t,e){t.addEventListener(n,e,{passive:!0})}var Xn={};for(var qn in Xn[j]=function(n,t,e,r,u,o){null==Vn&&Nn(),null!=n?(Jn=n.clientX-Vn.left,Ln=n.clientY-Vn.top,Cn||(Cn=!0,s(jn))):(Jn=an*(e/u),Ln=cn*(r/o),jn(!1))},Xn[F]=function(n,t,e,r,u,o){Rn=!0,null!=n?In.pub(F,Pn,Fn=n.clientX-Vn.left,zn=n.clientY-Vn.top,an,cn,null):(Fn=an*(e/u),zn=cn*(r/o))},Xn[z]=function(n){if(Rn=!1,Jn!=Fn||Ln!=zn){V(En,H,0),V(En,T,0);var t=x(Fn,Jn),e=b(Fn,Jn);Yn(kn(t),kn(e))}null!=n&&In.pub(z,Pn,Jn,Ln,an,cn,null)},Xn[J]=function(n){0==l&&f==o-1||(Yn(0,o-1),null!=n&&In.pub(J,Pn,Jn,Ln,an,cn,null))},Xn)On(qn,yn,Xn[qn]);var Bn=function(n){var t=null;function e(){t=null,n()}return function(){clearTimeout(t),t=setTimeout(e,100)}}(Nn);On("resize",m,Bn),On("scroll",m,Bn),this.root=O;var Gn=n.sync,In=null!=Gn?rn[Gn]=rn[Gn]||un():un();In.sub(this),this.pub=function(n,t,e,r,u,o,a){Xn[n](null,t,e,r,u,o,a)},R(t,0,t[0].length-1),X.appendChild(yn)}return on.fmtDate=f,on}();
