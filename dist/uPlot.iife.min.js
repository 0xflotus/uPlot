/*! https://github.com/leeoniya/uPlot (v1.1.0) */
var uPlot=function(){"use strict";function n(n,e,t,r){var o;t=t||0;for(var i=2147483647>=(r=r||e.length-1);r-t>1;)n>e[o=i?t+r>>1:a((t+r)/2)]?t=o:r=o;return n-e[t]>e[r]-n?r:t}function e(n,e,t){return t?(n=c(10,a(v(n))),e=c(10,u(v(e)))):(n=w(n,c(10,a(v(n)))),e=x(e,c(10,a(v(e))))),[+n.toFixed(12),+e.toFixed(12)]}function t(n,e,t,r){var o=e-n,l=o||i(e)||1e3,u=v(l),s=c(10,a(u)),f=l*t,h=e+f,m=y(w(n-f,s/100)),p=y(x(h,s/100));return r&&(0==o?e>0?m=0:0>e&&(p=0):(n>=0&&0>m&&(m=0),0>=e&&p>0&&(p=0))),[m,p]}var r=new Intl.NumberFormat(navigator.language).format,o=Math,i=o.abs,a=o.floor,l=o.round,u=o.ceil,s=o.min,f=o.max,c=o.pow,v=o.log10,h=o.PI,m=1/0;function p(n,e){return l(n/e)*e}function d(n,e,t){return s(f(n,e),t)}function g(n){return"function"==typeof n?n:function(){return n}}function x(n,e){return u(n/e)*e}function w(n,e){return a(n/e)*e}function b(n){return l(1e3*n)/1e3}function y(n){return l(1e6*n)/1e6}function M(n,e,t){for(var r=[],o=n;e>o;o++)for(var a=c(10,o),l=0;t.length>l;l++)r.push(+(t[l]*a).toFixed(i(o)));return r}var k=Array.isArray;function S(n){return"object"==typeof n&&null!==n}function T(n){var e;if(k(n))e=n.map(T);else if(S(n))for(var t in e={},n)e[t]=T(n[t]);else e=n;return e}function D(n){for(var e=arguments,t=1;e.length>t;t++){var r=e[t];for(var o in r)S(n[o])?D(n[o],T(r[o])):n[o]=T(r[o])}return n}var Y="width",E="height",_="top",z="left",W=requestAnimationFrame,F=document,A=window,C=devicePixelRatio;function H(n,e){null!=e&&n.classList.add(e)}function P(n,e,t){n.style[e]=t+"px"}function N(n,e,t,r){var o=F.createElement(n);return null!=e&&H(o,e),null!=t&&t.insertBefore(o,r),o}function I(n,e){return N("div",n,e)}function V(n,e,t){n.style.transform="translate("+e+"px,"+t+"px)"}var L={passive:!0};function B(n,e,t){e.addEventListener(n,t,L)}function O(n,e,t){e.removeEventListener(n,t,L)}var R=["January","February","March","April","May","June","July","August","September","October","November","December"],U=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function j(n){return n.slice(0,3)}var J=U.map(j),G=R.map(j),Z={MMMM:R,MMM:G,WWWW:U,WWW:J};function q(n){return(10>n?"0":"")+n}var X={YYYY:function(n){return n.getFullYear()},YY:function(n){return(n.getFullYear()+"").slice(2)},MMMM:function(n,e){return e.MMMM[n.getMonth()]},MMM:function(n,e){return e.MMM[n.getMonth()]},MM:function(n){return q(n.getMonth()+1)},M:function(n){return n.getMonth()+1},DD:function(n){return q(n.getDate())},D:function(n){return n.getDate()},WWWW:function(n,e){return e.WWWW[n.getDay()]},WWW:function(n,e){return e.WWW[n.getDay()]},HH:function(n){return q(n.getHours())},H:function(n){return n.getHours()},h:function(n){var e=n.getHours();return 0==e?12:e>12?e-12:e},AA:function(n){return 12>n.getHours()?"AM":"PM"},aa:function(n){return 12>n.getHours()?"am":"pm"},a:function(n){return 12>n.getHours()?"a":"p"},mm:function(n){return q(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return q(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function K(n,e){e=e||Z;for(var t,r=[],o=/\{([a-z]+)\}|[^{]+/gi;t=o.exec(n);)r.push("{"==t[0][0]?X[t[1]]:t[0]);return function(n){for(var t="",o=0;r.length>o;o++)t+="string"==typeof r[o]?r[o]:r[o](n,e);return t}}var Q=(new Intl.DateTimeFormat).resolvedOptions().timeZone,$=[1,2,5],nn=M(-16,0,$),en=M(0,16,$),tn=nn.concat(en),rn=3600,on=86400,an=30*on,ln=365*on,un=[5e-4].concat(M(-3,0,$),[1,5,10,15,30,60,300,600,900,1800,rn,7200,3*rn,4*rn,6*rn,8*rn,43200,on,2*on,3*on,4*on,5*on,6*on,7*on,8*on,9*on,10*on,15*on,an,2*an,3*an,4*an,6*an,ln,2*ln,5*ln,10*ln,25*ln,50*ln,100*ln]);function sn(n,e){return n.map((function(n){return[n[0],e(n[1]),n[2],e(n[4]?n[1]+n[3]:n[3])]}))}var fn="{M}/{D}",cn="\n"+fn,vn="{h}:{mm}{aa}",hn=[[ln,"{YYYY}",7,"",1],[28*on,"{MMM}",7,"\n{YYYY}",1],[on,fn,7,"\n{YYYY}",1],[rn,"{h}{aa}",4,cn,1],[60,vn,4,cn,1],[1,":{ss}",2,cn+" "+vn,1],[.001,":{ss}.{fff}",2,cn+" "+vn,1]];function mn(n,e){return function(t,r,o,i,a){var l=e.find((function(n){return a>=n[0]}))||e[e.length-1],u=null,s=null,f=null;return r.map((function(e){var t=n(e),r=t.getFullYear(),o=t.getDate(),i=t.getMinutes(),a=r!=u,c=o!=s,v=i!=f;return u=r,s=o,f=i,(7==l[2]&&a||4==l[2]&&c||2==l[2]&&v?l[3]:l[1])(t)}))}}function pn(n,e,t){return new Date(n,e,t)}function dn(n,e){return e(n)}function gn(n,e){return function(t,r){return e(n(r))}}var xn={show:!0,x:!0,y:!0,lock:!1,points:{show:function(n,e){var t=n.series[e],r=I();r.style.background=t.stroke||"#000";var o=Hn(t.width,1),i=(o-1)/-2;return P(r,Y,o),P(r,E,o),P(r,"marginLeft",i),P(r,"marginTop",i),r}},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,_x:!1,_y:!1},focus:{prox:-1},locked:!1,left:-10,top:-10,idx:null,dataIdx:function(n,e,t){return t}},wn={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},bn=D({},wn,{size:10}),yn='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Mn="bold "+yn,kn={show:!0,scale:"x",space:50,gap:5,size:50,labelSize:30,labelFont:Mn,side:2,grid:wn,ticks:bn,font:yn,rotate:0},Sn={show:!0,scale:"x",sorted:1,min:m,max:-m,idxs:[]};function Tn(n,e){return e.map(r)}function Dn(n,e,t,r,o,i,a){for(var l=[],u=t=a?t:+x(t,o).toFixed(12);r>=u;u=+(u+o).toFixed(12))l.push(u);return l}function Yn(n,e,t,r,o){var i=[];o=c(10,a(v(t)));var l=t;do{i.push(l),10*o>(l=+(l+o).toFixed(12))||(o=l)}while(r>=l);return i}var En=/./,_n=/[12357]/,zn=/[125]/,Wn=/1/;function Fn(n,e,t){var o=n.axes[t],i=o.scale,a=n.valToPos,l=o.space(),u=a(10,i),s=a(9,i)-u<l?a(7,i)-u<l?a(5,i)-u<l?Wn:zn:_n:En;return e.map((function(n){return s.test(n)?r(n):""}))}function An(n,e){return r(e)}var Cn={show:!0,scale:"y",space:40,gap:5,size:50,labelSize:30,labelFont:Mn,side:3,grid:wn,ticks:bn,font:yn,rotate:0};function Hn(n,e){return b((3+2*(n||1))*e)}var Pn={scale:"y",sorted:0,show:!0,band:!1,spanGaps:!1,alpha:1,points:{show:function(n,e){var t=Hn(n.series[e].width,C),r=n.series[0].idxs;return n.bbox.width/t/2>=r[1]-r[0]}},values:null,min:m,max:-m,idxs:[],path:null,clip:null},Nn={time:!0,auto:!0,distr:1,min:null,max:null},In=D({},Nn,{time:!1}),Vn={};function Ln(){var n=[];return{sub:function(e){n.push(e)},unsub:function(e){n=n.filter((function(n){return n!=e}))},pub:function(e,t,r,o,i,a,l){n.length>1&&n.forEach((function(n){n!=t&&n.pub(e,t,r,o,i,a,l)}))}}}function Bn(n,e,t,r){return(r?[n[0],n[1]].concat(n.slice(2)):[n[0]].concat(n.slice(1))).map((function(n,r){return On(n,r,e,t)}))}function On(n,e,t,r){return D({},0==e||n&&n.side%2==0?t:r,n)}function Rn(n,e){return 3==e.distr?v(n/e.min)/v(e.max/e.min):(n-e.min)/(e.max-e.min)}function Un(n,e,t,r){return r+(1-Rn(n,e))*t}function jn(n,e,t,r){return r+Rn(n,e)*t}function Jn(n,e,t){return[e,t>e?t:t+86400]}function Gn(n,e,t){var r=t-e;if(0==r){var o=v(r||i(t)||1),l=a(o)+1;return[e,x(t,c(10,l))]}return[e,t]}function Zn(n,e,r){return t(e,r,.1,!0)}function qn(n,t,r){return e(t,r)}function Xn(n,t,r){return e(t,r)}function Kn(n){return 0==n.button}function Qn(n){var e;return[n=n.replace(/\d+/,(function(n){return e=l(n*C)})),e]}function $n(e,t,r){var o={},u=o.root=I("uplot");null!=e.id&&(u.id=e.id),H(u,e.class),e.title&&(I("u-title",u).textContent=e.title);var w=N("canvas"),M=o.ctx=w.getContext("2d"),S=I("u-wrap",u),L=I("u-under",S);S.appendChild(w);var R=I("u-over",S);((e=T(e)).plugins||[]).forEach((function(n){n.opts&&(e=n.opts(o,e)||e)}));var U=!1,j=o.series=Bn(e.series||[],Sn,Pn,!1),J=o.axes=Bn(e.axes||[],kn,Cn,!0),G=o.scales=D({},{x:Nn,y:In},e.scales),Z=D({x:l(Cn.size/2),y:l(kn.size/3)},e.gutters),q=e.tzDate||function(n){return new Date(1e3*n)},X=e.fmtDate||K,Q=function(n){return function(e,t,r,o,i,l){var u=[],s=i>=an&&ln>i,f=n(r),c=f/1e3,v=pn(f.getFullYear(),f.getMonth(),s?1:f.getDate()),h=v/1e3;if(s)for(var m=i/an,p=c==h?c:pn(v.getFullYear(),v.getMonth()+m,1)/1e3,d=new Date(1e3*p),g=d.getFullYear(),w=d.getMonth(),M=0;o>=p;M++){var k=pn(g,w+m*M,1);(p=(+k+(k-n(k/1e3)))/1e3)>o||u.push(p)}else{var S=on>i?i:on,T=h+(a(r)-a(c))+x(c-h,S);u.push(T);for(var D=n(T),Y=D.getHours()+D.getMinutes()/60+D.getSeconds()/rn,E=i/rn,_=l/e.axes[t].space();;){T=b(T+i);var z=a(y(Y+E))%24,W=n(T).getHours()-z;if(W>1&&(W=-1),(T-=W*rn)>o)break;Y=(Y+E)%24,.7>b((T-u[u.length-1])/i)*_||u.push(T)}}return u}}(q),$=mn(q,sn(hn,X)),nn=gn(q,dn("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",X)),fn={};for(var cn in G){var vn=G[cn];null==vn.min&&null==vn.max||(fn[cn]={min:vn.min,max:vn.max})}var wn,bn,yn=D({show:!0,live:!0},e.legend),Mn=yn.show,En=[],_n=!1;if(Mn){wn=N("table","u-legend",u);var zn=j[1]?j[1].values:null;if(_n=null!=zn){var Wn=N("tr","u-thead",wn);for(var Rn in N("th",null,Wn),bn=zn(o,1,0))N("th","u-label",Wn).textContent=Rn}else bn={_:0},H(wn,"u-inline"),yn.live&&H(wn,"u-live")}var $n=o.cursor=D({},xn,e.cursor);$n.points.show=g($n.points.show);var ne=o.focus=D({},e.focus||{alpha:.3},$n.focus),ee=ne.prox>=0,te=[null];function re(n,e){var t=n.scale,r=G[t]=D({},0==e?Nn:In,G[t]),i=r.time,a=3==r.distr;r.range=g(r.range||(i?Jn:0==e?a?qn:Gn:a?Xn:Zn));var l=n.value;if(n.value=i?function(n){return"string"==typeof n}(l)?gn(q,dn(l,X)):l||nn:l||An,n.label=n.label||(i?"Time":"Value"),e>0){n.width=null==n.width?1:n.width,n.paths=n.paths||Ne;var u=Hn(n.width,1);n.points=D({},{size:u,width:f(1,.2*u)},n.points),n.points.show=g(n.points.show),n._paths=null}if(Mn&&En.splice(e,0,function(n,e){if(0==e&&(_n||!yn.live))return null;var t=[],r=N("tr","u-series",wn,wn.childNodes[e]);H(r,n.class),n.show||H(r,"u-off");var o=N("th",null,r),i=I("u-marker",o);n.width&&(i.style.borderColor=n.stroke),i.style.backgroundColor=n.fill;var a=I("u-label",o);for(var l in a.textContent=n.label,e>0&&(B("click",o,(function(e){$n.locked||Kn(e)&&Qe(j.indexOf(n),{show:!n.show},St.setSeries)})),ee&&B("mouseenter",o,(function(){$n.locked||Qe(j.indexOf(n),{focus:!0},St.setSeries)}))),bn){var u=N("td","u-value",r);u.textContent="--",t.push(u)}return t}(n,e)),$n.show){var s=function(n,e){if(e>0){var t=$n.points.show(o,e);if(t)return H(t,"u-cursor-pt"),H(t,n.class),V(t,-10,-10),R.insertBefore(t,te[e]),t}}(n,e);s&&te.splice(e,0,s)}}o.addSeries=function(n,e){n=On(n,e=null==e?j.length:e,Sn,Pn),j.splice(e,0,n),re(j[e],e)},o.delSeries=function(n){j.splice(n,1),Mn&&En.splice(n,1)[0][0].parentNode.remove(),te.length>1&&te.splice(n,1)[0].remove()},j.forEach(re);var oe,ie=j[0].scale,ae=G[ie].distr;for(var le in G){var ue=G[le];null!=ue.from&&(G[le]=D({},G[ue.from],ue))}J.forEach((function(n){if(n.show){var e=G[n.scale];null==e&&(n.scale=n.side%2?j[1].scale:ie,e=G[n.scale]);var t=e.time;n.space=g(n.space),n.rotate=g(n.rotate),n.incrs=g(n.incrs||(2==e.distr?en:t?un:tn)),n.splits=g(n.splits||(t&&1==e.distr?Q:3==e.distr?Yn:Dn));var r=n.values;n.values=t?k(r)?mn(q,sn(r,X)):r||$:r||(3==e.distr?Fn:Tn),n.font=Qn(n.font),n.labelFont=Qn(n.labelFont)}}));var se,fe,ce,ve,he,me,pe,de,ge,xe,we=null,be=null,ye=j[0].idxs,Me=null;function ke(n,e){if((n=n||[])[0]=n[0]||[],o.data=n,t=n.slice(),oe=(Me=t[0]).length,2==ae&&(t[0]=Me.map((function(n,e){return e}))),Le(),kt("setData"),!1!==e){var r=G[ie];r.auto?Se():Ke(ie,r.min,r.max)}}function Se(){we=ye[0]=0,be=ye[1]=oe-1,Ke(ie,2==ae?we:t[0][we],2==ae?be:t[0][be])}function Te(n,e,t,r){M.strokeStyle=n||"#000",M.lineWidth=e,M.lineJoin="round",M.setLineDash(t||[]),M.fillStyle=r||"#000"}function De(n,e){o.width=se=ce=n,o.height=fe=ve=e,he=me=0,function(){var n=!1,e=!1,t=!1,r=!1;J.forEach((function(o){if(o.show){var i=o.side,a=i%2,l=o.size+(o.labelSize=null!=o.label?o.labelSize||30:0);l>0&&(a?(ce-=l,3==i?(he+=l,r=!0):t=!0):(ve-=l,0==i?(me+=l,n=!0):e=!0))}})),(n||e)&&(t||(ce-=Z.x),r||(ce-=Z.x,he+=Z.x)),(r||t)&&(e||(ve-=Z.y),n||(ve-=Z.y,me+=Z.y))}(),function(){var n=he+ce,e=me+ve,t=he,r=me;function o(o,i){switch(o){case 1:return(n+=i)-i;case 2:return(e+=i)-i;case 3:return(t-=i)+i;case 0:return(r-=i)+i}}J.forEach((function(n){var e=n.side;n._pos=o(e,n.size),null!=n.label&&(n._lpos=o(e,n.labelSize))}))}();var t=o.bbox;pe=t[z]=p(he*C,.5),de=t.top=p(me*C,.5),ge=t[Y]=p(ce*C,.5),xe=t[E]=p(ve*C,.5),P(L,z,he),P(L,_,me),P(L,Y,ce),P(L,E,ve),P(R,z,he),P(R,_,me),P(R,Y,ce),P(R,E,ve),P(S,Y,se),P(S,E,fe),w[Y]=l(se*C),w[E]=l(fe*C),vt(),U&&Ke(ie,G[ie].min,G[ie].max),U&&kt("setSize")}function Ye(){if(ot)at=!0;else{if(oe>0){var e=T(G);for(var r in e){var i=e[r],a=fn[r];null!=a?(D(i,a),r==ie&&Le()):r!=ie&&(i.min=m,i.max=-m)}for(var l in j.forEach((function(r,i){var a=r.scale,l=e[a];if(0==i){var u=l.range(o,l.min,l.max,a);l.min=u[0],l.max=u[1],we=n(l.min,t[0]),be=n(l.max,t[0]),l.min>t[0][we]&&we++,t[0][be]>l.max&&be--,r.min=Me[we],r.max=Me[be]}else if(r.show&&null==fn[a]){var c=r.min==m?l.auto?function(n,e,t,r){var o=m,i=-m;if(1==r)o=n[e],i=n[t];else if(-1==r)o=n[t],i=n[e];else for(var a=e;t>=a;a++)null!=n[a]&&(o=s(o,n[a]),i=f(i,n[a]));return[o,i]}(t[i],we,be,r.sorted):[0,100]:[r.min,r.max];l.min=s(l.min,r.min=c[0]),l.max=f(l.max,r.max=c[1])}r.idxs[0]=we,r.idxs[1]=be})),e){var u=e[l];if(null==u.from&&u.min!=m&&null==fn[l]){var c=u.range(o,u.min,u.max,l);u.min=c[0],u.max=c[1]}}for(var v in e){var h=e[v];if(null!=h.from){var p=e[h.from];if(p.min!=m){var d=h.range(o,p.min,p.max,v);h.min=d[0],h.max=d[1]}}}var g={};for(var x in e){var w=e[x],b=G[x];b.min==w.min&&b.max==w.max||(b.min=w.min,b.max=w.max,g[x]=!0)}for(var y in j.forEach((function(n){g[n.scale]&&(n._paths=null)})),g)kt("setScale",y)}for(var M in fn)fn[M]=null;$n.show&&ft()}}o.setData=ke,o.bbox={},o.setSize=function(n){De(n.width,n.height)};var Ee,_e,ze,We,Fe,Ae,Ce,He=1;function Pe(n,e,t){var r=n[n.length-1];r&&r[0]==e?r[1]=t:n.push([e,t])}function Ne(n,e,r,o){var i,a,u=j[e],c=t[0],v=t[e],h=G[ie],p=G[u.scale],d=1==He?{stroke:new Path2D,fill:null,clip:null}:j[e-1]._paths,g=d.stroke,x=b(u[Y]*C),w=m,y=-m,M=[],k=l(jn(c[1==He?r:o],h,ge,pe));u.band&&1==He&&r==we&&(x&&g.lineTo(-x,l(Un(v[r],p,xe,de))),c[0]>h.min&&M.push([pe,k-1]));for(var S=1==He?r:o;S>=r&&o>=S;S+=He){var T=l(jn(c[S],h,ge,pe));if(T==k)null!=v[S]&&(i=l(Un(v[S],p,xe,de)),w=s(i,w),y=f(i,y));else{var D=!1;w!=m?(g.lineTo(k,w),g.lineTo(k,y),g.lineTo(k,i),a=k):D=!0,null!=v[S]?(i=l(Un(v[S],p,xe,de)),g.lineTo(T,i),w=y=i,T-k>1&&null==v[S-1]&&(D=!0)):(w=m,y=-m),D&&Pe(M,a,T),k=T}}if(null==v[o]&&Pe(M,a,k),u.band){var E,_,z=100*x;-1==He&&r==we&&(_=pe-z,E=r),1==He&&o==be&&(_=pe+ge+z,E=o,h.max>c[oe-1]&&M.push([k,pe+ge])),g.lineTo(_,l(Un(v[E],p,xe,de)))}if(1==He&&(d.clip=function(n,e,t,r){var o=null;if(e.length>0){if(j[n].spanGaps){var i=e[0],a=e[e.length-1];e=[],t&&e.push(i),r&&e.push(a)}o=new Path2D;for(var l=pe,u=0;e.length>u;u++){var s=e[u];o.rect(l,de,s[0]-l,de+xe),l=s[1]}o.rect(l,de,pe+ge-l,de+xe)}return o}(e,M,null==v[r],null==v[o]),null!=u.fill)){var W=d.fill=new Path2D(g),F=l(Un(0,p,xe,de));W.lineTo(pe+ge,F),W.lineTo(pe,F)}return u.band&&(He*=-1),d}function Ie(n,e,t,r){var i,a=J[n];if(r>0){var l=a.space(o,n,e,t,r);i=function(n,e,t,r){for(var o=t/n,i=0;e.length>i;i++){var a=e[i]*o;if(a>=r)return[e[i],a]}}(t-e,a.incrs(o,n,e,t,r,l),r,l)}else i=[0,0];return i}function Ve(n,e,t,r,o,i,a,l){var u=i%2/2;M.translate(u,u),Te(a,i,l),M.beginPath();var s,f,c,v,h=r+(0==t||3==t?-o:o);0==e?(f=r,v=h):(s=r,c=h),n.forEach((function(n){0==e?s=c=n:f=v=n,M.moveTo(s,f),M.lineTo(c,v)})),M.stroke(),M.translate(-u,-u)}function Le(){j.forEach((function(n,e){e>0&&(n.min=m,n.max=-m,n._paths=null)}))}function Be(){ot?it=!0:(M.clearRect(0,0,w[Y],w[E]),kt("drawClear"),function(){J.forEach((function(n,e){if(n.show){var t=G[n.scale];if(t.min!=m){var r=n.side,i=r%2,a=t.min,u=t.max,s=Ie(e,a,u,0==i?ce:ve),f=s[0],c=s[1],v=n.splits(o,e,a,u,f,c,2==t.distr),p=0==i?jn:Un,d=0==i?ge:xe,g=0==i?pe:de,x=v.map((function(n){return l(p(n,t,d,g))})),w=l(n.gap*C),y=n.ticks,k=y.show?l(y.size*C):0,S=n.values(o,2==t.distr?v.map((function(n){return Me[n]})):v,e,c,2==t.distr?Me[v[1]]-Me[v[0]]:f),T=2==r?n.rotate(o,S,e,c)*-h/180:0,D=l(n._pos*C),E=D+(k+w)*(0==i&&0==r||1==i&&3==r?-1:1),W=0==i?E:0,F=1==i?E:0;M.font=n.font[0],M.fillStyle=n.stroke||"#000",M.textAlign=T>0?z:0>T?"right":0==i?"center":3==r?"right":z,M.textBaseline=T||1==i?"middle":2==r?_:"bottom";var A=1.5*n.font[1];if(S.forEach((function(n,e){0==i?F=x[e]:W=x[e],(""+n).split(/\n/gm).forEach((function(n,e){T?(M.save(),M.translate(F,W+e*A),M.rotate(T),M.fillText(n,0,0),M.restore()):M.fillText(n,F,W+e*A)}))})),n.label){M.save();var H=l(n._lpos*C);1==i?(F=W=0,M.translate(H,l(de+xe/2)),M.rotate((3==r?-h:h)/2)):(F=l(pe+ge/2),W=H),M.font=n.labelFont[0],M.textAlign="center",M.textBaseline=2==r?_:"bottom",M.fillText(n.label,F,W),M.restore()}y.show&&Ve(x,i,r,D,k,b(y[Y]*C),y.stroke);var P=n.grid;P.show&&Ve(x,i,0==i?2:1,0==i?de:pe,0==i?xe:ge,b(P[Y]*C),P.stroke,P.dash)}}})),kt("drawAxes")}(),function(){j.forEach((function(n,e){if(e>0&&n.show&&oe>0&&null==n._paths){var r=function(n){for(var e=d(we-1,0,oe-1),t=d(be+1,0,oe-1);null==n[e]&&e>0;)e--;for(;null==n[t]&&oe-1>t;)t++;return[e,t]}(t[e]);n._paths=n.paths(o,e,r[0],r[1])}})),j.forEach((function(n,e){e>0&&n.show&&(n._paths&&function(n){var e=j[n];if(1==He){var t=e._paths,r=t.stroke,o=t.fill,i=t.clip,a=b(e[Y]*C),l=a%2/2;Te(e.stroke,a,e.dash,e.fill),M.globalAlpha=e.alpha,M.translate(l,l),M.save();var u=pe,s=de,f=ge,c=xe,v=a*C/2;0==e.min&&(c+=v),0==e.max&&(s-=v,c+=v),M.beginPath(),M.rect(u,s,f,c),M.clip(),null!=i&&M.clip(i),e.band?(M.fill(r),a&&M.stroke(r)):(a&&M.stroke(r),null!=e.fill&&M.fill(o)),M.restore(),M.translate(-l,-l),M.globalAlpha=1}e.band&&(He*=-1)}(e),n.points.show(o,e,we,be)&&function(n){var e=j[n],r=e.points,o=b(r.width*C),i=o%2/2,a=r.width>0,u=(r.size-r.width)/2*C,s=b(2*u);M.translate(i,i),M.save(),M.beginPath(),M.rect(pe-s,de-s,ge+2*s,xe+2*s),M.clip(),M.globalAlpha=e.alpha;for(var f=new Path2D,c=we;be>=c;c++)if(null!=t[n][c]){var v=l(jn(t[0][c],G[ie],ge,pe)),m=l(Un(t[n][c],G[e.scale],xe,de));f.moveTo(v+u,m),f.arc(v,m,u,0,2*h)}Te(r.stroke||e.stroke||"#000",o,null,r.fill||(a?"#fff":e.stroke||"#000")),M.fill(f),a&&M.stroke(f),M.globalAlpha=1,M.restore(),M.translate(-i,-i)}(e),kt("drawSeries",e))}))}(),Ee=!0,kt("draw"))}function Oe(e,r){var o=G[e];if(null==o.from){if(e==ie&&(2==o.distr&&(r.min=n(r.min,t[0]),r.max=n(r.max,t[0])),o.time&&J[0].show&&r.max>r.min&&.001>Ie(0,r.min,r.max,ce)[0]))return;fn[e]=r,Ee=!1,Ye(),!Ee&&Be(),Ee=!1}}o.redraw=function(n){!1!==n?Ke(ie,G[ie].min,G[ie].max):Be()},o.setScale=Oe;var Re=!1,Ue=$n.drag,je=Ue.x,Je=Ue.y;$n.show&&($n.x&&(Ae=$n.left,_e=I("u-cursor-x",R)),$n.y&&(Ce=$n.top,ze=I("u-cursor-y",R)));var Ge=o.select=D({show:!0,left:0,width:0,top:0,height:0},e.select),Ze=Ge.show?I("u-select",R):null;function qe(n,e){if(Ge.show){for(var t in n)P(Ze,t,Ge[t]=n[t]);!1!==e&&kt("setSelect")}}function Xe(n){var e=Mn?En[n][0].parentNode:null;j[n].show?e&&function(n){n.classList.remove("u-off")}(e):(e&&H(e,"u-off"),te.length>1&&V(te[n],0,-10))}function Ke(n,e,t){Oe(n,{min:e,max:t})}function Qe(n,e,t){var r=j[n];if(null!=e.focus&&function(n){n!=et&&(j.forEach((function(e,t){!function(n,e){var t=j[n];$e(n,e),t.band&&$e(j[n+1].band?n+1:n-1,e)}(t,null==n||0==t||t==n?1:ne.alpha)})),et=n,Be())}(n),null!=e.show){if(r.show=e.show,Xe(n),r.band){var i=j[n+1]&&j[n+1].band?n+1:n-1;j[i].show=r.show,Xe(i)}Ke(ie,G[ie].min,G[ie].max)}kt("setSeries",n,e),t&&Dt.pub("setSeries",o,n,e)}function $e(n,e){j[n].alpha=e,$n.show&&te[n]&&(te[n].style.opacity=e),Mn&&En[n]&&(En[n][0].parentNode.style.opacity=e)}o.setSelect=qe,o.setSeries=Qe;var nt=Array(j.length),et=null;function tt(n,e){var t=ce;e!=ie&&(n=(t=ve)-n);var r=n/t,o=G[e],i=o.min,a=o.max;return 3==o.distr?(i=v(i),a=v(a),c(10,i+(a-i)*r)):i+(a-i)*r}function rt(e){return n(tt(e,ie),t[0],we,be)}Mn&&ee&&B("mouseleave",wn,(function(){$n.locked||(Qe(null,{focus:!1},St.setSeries),ft())})),o.valToIdx=function(e){return n(e,t[0])},o.posToIdx=rt,o.posToVal=tt,o.valToPos=function(n,e,t){return e==ie?jn(n,G[e],t?ge:ce,t?pe:0):Un(n,G[e],t?xe:ve,t?de:0)};var ot=!1,it=!1,at=!1,lt=!1;function ut(n){ot=!0,n(o),ot=!1,at&&Ye(),lt&&ft(),it&&!Ee&&Be(),at=lt=it=Ee=ot}o.batch=ut,o.setCursor=function(n){Ae=n.left,Ce=n.top,ft()};var st=0;function ft(n,e){if(ot)lt=!0;else{var r;if(st=0,$n.show&&($n.x&&V(_e,l(Ae),0),$n.y&&V(ze,0,l(Ce))),0>Ae||0==oe||we>be){r=null;for(var a=0;j.length>a;a++)if(a>0&&(nt[a]=m,te.length>1&&V(te[a],-10,-10)),Mn&&yn.live){if(0==a&&_n)continue;for(var u=0;En[a].length>u;u++)En[a][u].firstChild.nodeValue="--"}ee&&Qe(null,{focus:!0},St.setSeries)}else{r=rt(Ae);for(var f=G[ie],c=b(jn(t[0][r],f,ce,0)),v=0;j.length>v;v++){var h=j[v],p=$n.dataIdx(o,v,r),d=p==r?c:b(jn(t[0][p],f,ce,0));if(v>0&&h.show){var g=t[v][p],x=null==g?-10:b(Un(g,G[h.scale],ve,0));nt[v]=x>0?i(x-Ce):m,te.length>1&&V(te[v],d,x)}else nt[v]=m;if(Mn&&yn.live){if(p==$n.idx||0==v&&_n)continue;var w=0==v&&2==ae?Me:t[v],y=_n?h.values(o,v,p):{_:h.value(o,w[p],v,p)},M=0;for(var k in y)En[v][M++].firstChild.nodeValue=y[k]}}}if(Ge.show&&Re){var S=i(Ae-We),T=i(Ce-Fe);if(null!=e){var D=St.scales,W=D[0],F=D[1],A=e.cursor.drag;if(je=A._x,Je=A._y,W){var C=G[W],H=e.posToVal(e.select[z],W),N=e.posToVal(e.select[z]+e.select[Y],W);Ge[z]=jn(H,C,ce,0),Ge[Y]=i(Ge[z]-jn(N,C,ce,0)),P(Ze,z,Ge[z]),P(Ze,Y,Ge[Y]),F||(P(Ze,_,Ge.top=0),P(Ze,E,Ge[E]=ve))}if(F){var I=G[F],L=e.posToVal(e.select.top,F),B=e.posToVal(e.select.top+e.select[E],F);Ge.top=Un(L,I,ve,0),Ge[E]=i(Ge.top-Un(B,I,ve,0)),P(Ze,_,Ge.top),P(Ze,E,Ge[E]),W||(P(Ze,z,Ge[z]=0),P(Ze,Y,Ge[Y]=ce))}}else{je=Ue.x&&S>=Ue.dist,Je=Ue.y&&T>=Ue.dist;var O=Ue.uni;if(null!=O?je&&Je&&(Je=T>=O,(je=S>=O)||Je||(T>S?Je=!0:je=!0)):Ue.x&&Ue.y&&(je||Je)&&(je=Je=!0),je){var R=s(We,Ae);P(Ze,z,Ge[z]=R),P(Ze,Y,Ge[Y]=S),Je||(P(Ze,_,Ge.top=0),P(Ze,E,Ge[E]=ve))}if(Je){var J=s(Fe,Ce);P(Ze,_,Ge.top=J),P(Ze,E,Ge[E]=T),je||(P(Ze,z,Ge[z]=0),P(Ze,Y,Ge[Y]=ce))}je||Je||(P(Ze,E,Ge[E]=0),P(Ze,Y,Ge[Y]=0))}}if($n.idx=r,$n.left=Ae,$n.top=Ce,Ue._x=je,Ue._y=Je,null!=n&&(Dt.pub("mousemove",o,Ae,Ce,ce,ve,r),ee)){var Z=s.apply(null,nt),q=null;Z>ne.prox||nt.some((function(n,e){if(n==Z)return q=e})),Qe(q,{focus:!0},St.setSeries)}U&&kt("setCursor")}}var ct=null;function vt(){ct=R.getBoundingClientRect()}function ht(n,e,t,r,o,i){$n.locked||(mt(n,e,t,r,o,i,0,!1,null!=n),null!=n?0==st&&(st=W(ft)):ft(null,e))}function mt(n,e,t,r,o,i,a,l,u){if(null!=n)t=n.clientX-ct.left,r=n.clientY-ct.top;else{if(0>t||0>r)return Ae=-10,void(Ce=-10);var s=St.scales,f=s[0],c=s[1];t=null!=f?jn(e.posToVal(t,f),G[f],ce,0):ce*(t/o),r=null!=c?Un(e.posToVal(r,c),G[c],ve,0):ve*(r/i)}u&&(t>1&&ce-1>t||(t=p(t,ce)),r>1&&ve-1>r||(r=p(r,ve))),l?(We=t,Fe=r):(Ae=t,Ce=r)}function pt(){qe({width:0,height:0},!1)}function dt(n,e,t,r,i,a){(null!=e||Kn(n))&&(Re=!0,je=Je=Ue._x=Ue._y=!1,mt(n,e,t,r,i,a,0,!0,!1),null!=n&&(B("mouseup",F,gt),Dt.pub("mousedown",o,We,Fe,ce,ve,null)))}function gt(n,e,t,r,i,a){if(null!=e||Kn(n)){Re=Ue._x=Ue._y=!1,mt(n,e,t,r,i,a,0,!1,!0);var l=Ge[Y]>0||Ge[E]>0;l&&qe(Ge),Ue.setScale&&l?(ut((function(){if(je&&Ke(ie,tt(Ge[z],ie),tt(Ge[z]+Ge[Y],ie)),Je)for(var n in G)n!=ie&&null==G[n].from&&Ke(n,tt(Ge.top+Ge[E],n),tt(Ge.top,n))})),pt()):$n.lock&&($n.locked=!$n.locked,$n.locked||ft())}null!=n&&(O("mouseup",F,gt),Dt.pub("mouseup",o,Ae,Ce,ce,ve,null))}function xt(){if(!$n.locked){var n=Re;if(Re){var e=!0,t=!0;if(je&&Je&&(e=10>=Ae||Ae>=ce-10,t=10>=Ce||Ce>=ve-10),je&&e){var r=Ae,o=ce-Ae,i=s(r,o);i==r&&(Ae=0),i==o&&(Ae=ce)}if(Je&&t){var a=Ce,l=ve-Ce,u=s(a,l);u==a&&(Ce=0),u==l&&(Ce=ve)}ft(1),Re=!1}Ae=-10,Ce=-10,ft(1),n&&(Re=n)}}function wt(n){Se(),pt(),null!=n&&Dt.pub("dblclick",o,Ae,Ce,ce,ve,null)}var bt,yt={};yt.mousedown=dt,yt.mousemove=ht,yt.mouseup=gt,yt.dblclick=wt,yt.setSeries=function(n,e,t,r){Qe(t,r)},$n.show&&(B("mousedown",R,dt),B("mousemove",R,ht),B("mouseenter",R,vt),B("mouseleave",R,(function(){W(xt)})),B("dblclick",R,wt),bt=function(n){var e=null;function t(){e=null,n()}return function(){clearTimeout(e),e=setTimeout(t,100)}}(vt),B("resize",A,bt),B("scroll",A,bt),o.syncRect=vt);var Mt=o.hooks=e.hooks||{};function kt(n,e,t){n in Mt&&Mt[n].forEach((function(n){n.call(null,o,e,t)}))}(e.plugins||[]).forEach((function(n){for(var e in n.hooks)Mt[e]=(Mt[e]||[]).concat(n.hooks[e])}));var St=D({key:null,setSeries:!1,scales:[ie,null]},$n.sync),Tt=St.key,Dt=null!=Tt?Vn[Tt]=Vn[Tt]||Ln():Ln();function Yt(){De(e[Y],e[E]),kt("init",e,t),ke(t||e.data,!1),fn[ie]?Oe(ie,fn[ie]):Se(),qe(Ge,!1),U=!0,kt("ready")}return Dt.sub(o),o.pub=function(n,e,t,r,o,i,a){yt[n](null,e,t,r,o,i,a)},o.destroy=function(){Dt.unsub(o),O("resize",A,bt),O("scroll",A,bt),u.remove(),kt("destroy")},r?r instanceof HTMLElement?(r.appendChild(u),Yt()):r(o,Yt):Yt(),o}return $n.assign=D,$n.fmtNum=r,$n.rangeNum=t,$n.rangeLog=e,$n.fmtDate=K,$n.tzDate=function(n,e){var t;return"Etc/UTC"==e?t=new Date(+n+6e4*n.getTimezoneOffset()):e==Q?t=n:(t=new Date(n.toLocaleString("en-US",{timeZone:e}))).setMilliseconds(n.getMilliseconds()),t},$n}();
