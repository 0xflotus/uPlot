/*! https://github.com/leeoniya/uPlot (v0.1.0) */
var uPlot=function(){"use strict";var n=["January","February","March","April","May","June","July","August","September","October","November","December"],t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function e(n){return n.slice(0,3)}var r=t.map(e),o=n.map(e);function u(n){return(10>n?"0":"")+n}var a="getFullYear",i="getMonth",l="getDate",c={YYYY:function(n){return n[a]()},YY:function(n){return(n[a]()+"").slice(2)},MMMM:function(t){return n[t[i]()]},MMM:function(n){return o[n[i]()]},MM:function(n){return u(n[i]()+1)},M:function(n){return n[i]()+1},DD:function(n){return u(n[l]())},D:function(n){return n[l]()},WWWW:function(n){return t[n.getDay()]},WWW:function(n){return r[n.getDay()]},HH:function(n){return u(n.getHours())},H:function(n){return n.getHours()},h:function(n){var t=n.getHours();return 0==t?12:t>12?t-12:t},AA:function(n){return 12>n.getHours()?"AM":"PM"},aa:function(n){return 12>n.getHours()?"am":"pm"},mm:function(n){return u(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return u(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function f(n){for(var t,e=[],r=/\{([a-z]+)\}|[^{]+/iy;t=r.exec(n);)e.push("{"==t[0][0]?c[t[1]]:t[0]);return function(n){for(var t="",r=0;e.length>r;r++)t+="string"==typeof e[r]?e[r]:e[r](n);return t}}function s(n,t){var e=null;function r(){e=null,n()}return function(){clearTimeout(e),e=setTimeout(r,t)}}var v=requestAnimationFrame,m=document,p=window,x=devicePixelRatio,y=Math,h=y.floor,d=y.round,g=y.ceil,M=y.min,D=y.max,b=y.pow,w=y.log10;function E(n,t){return g(n/t)*t}var T="width",W="height",Y="firstChild",H="createElement",C={color:"#eee",width:1},S=3600,A=24*S,k={scale:"x",space:40,height:30,pos:0,class:"x-time",incrs:[1,5,10,15,30,60,300,600,900,1800,S,2*S,3*S,4*S,6*S,8*S,12*S,A,2*A,3*A,4*A,5*A,6*A,7*A,8*A,9*A,10*A,365*A],values:function(n){var t=n[1]-n[0],e=f(A>t?S>t?60>t?"{M}/{DD}\n{h}:{mm}:{ss}{aa}":"{M}/{DD}\n{h}:{mm}{aa}":"{M}/{DD}\n{h}{aa}":"{M}/{D}");return n.map((function(n){return e(new Date(1e3*n))}))},grid:C},P={scale:"y",space:30,width:40,pos:1,class:"y-vals",incrs:[.01,.02,.05,.1,.2,.5,1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,1e6,2e6,5e6,1e7,2e7,5e7,1e8,2e8,5e8,1e9],values:function(n){return n},grid:C};function F(n){var t=n.series,e=n.axes,r=n.cursor;function o(n,t,e,r){n&&(N.strokeStyle=n),t&&(N.lineWidth=t),e&&N.setLineDash(e),r&&(N.fillStyle=r)}var u=G("chart"),c=G("plot",u),f=n[T],y=n[W],g=f,C=y,S=0,A=0;e.forEach((function(n){var t=n.pos;if(t%2){var e=n[T]=n[T]||40;g-=e,1==t&&(S+=e)}else{var r=n[W]=n[W]||30;C-=r,2==t&&(A+=r)}}));var k=f-S,P=y-A,F=S+g,z=A+C;e.forEach((function(n){var t=n.pos,e=t%2,r=n.root=G((e?"y":"x")+"-labels",u);if(e){var o=n[T];r.style[T]=o+"px",r.style[W]=C+"px",r.style.top=A+"px",1==t?(r.style.right=k+"px",k+=o):(r.style.left=F+"px",F+=o)}else{var a=n[W];r.style[W]=a+"px",r.style[T]=g+"px",r.style.left=S+"px",2==t?(r.style.bottom=P+"px",P+=a):(r.style.top=z+"px",z+=a)}})),c.style.top=A+"px",c.style.left=S+"px",u.style[T]=f+"px",u.style[W]=y+"px";var J,O,R=function(n,t){var e=m[H]("canvas"),r=e.getContext("2d");return e[T]=d(n*x),e[W]=d(t*x),e.style[T]=n+"px",e.style[W]=t+"px",{can:e,ctx:r}}(g,C),L=R.can,N=R.ctx,X=n.data,q=X[0].length,B=0,V=q-1,j={};function G(n,t){var e=m[H]("div");return null!=n&&(e.className=n),null!=t&&t.appendChild(e),e}function I(n,t,e){return null==n?n:d((1-(n-t.min)/(t.max-t.min))*e)}function K(n,t,e){return d((n-t.min)/(t.max-t.min)*e)}function Q(r,u){B=r,V=u,function(){j={},t.forEach((function(n,t){0==t?j[n.scale]={min:X[0][B],max:X[0][V]}:function(n,t){n in j||(j[n]={min:1/0,max:-1/0});for(var e=j[n],r=B;V>=r;r++)e.min=M(e.min,t[r]),e.max=D(e.max,t[r]);var o=w(e.max-e.min),u=h(o),a=b(10,u)/2;e.min=M(function(n,t){return h(n/t)*t}(e.min,a),e.min),e.max=D(E(e.max,a),e.max)}(n.scale,X[t])}))}(),N.clearRect(0,0,L[T],L[W]),e.forEach((function(n){!function(n){for(;n[Y];)n[Y].remove()}(n.root)})),function(){e.forEach((function(t,e){var r,u=0==e?0:1,c=0==u?T:W,f=0==u?W:T,s=j[t.scale],v=s.min,m=s.max,p=function(n,t,e,r){for(var o=e/n,u=0;t.length>u;u++){var a=t[u]*o;if(a>=r)return[t[u],a]}}(m-v,t.incrs,n[c],t.space),y=p[0],h=p[1];0==e&&(v=(r=function(n,t,e){var r=new Date(1e3*n),o=+new Date(r[a](),r[i](),r[l]())/1e3;return[o+E(n-o,e),t]}(v,m,y))[0],m=r[1]);for(var g=[],M=v;m>=M;M+=y)g.push(M);var D=t.values(g,h),b=0==u?K:I,w=0==u?"left":"top",Y=g.map((function(n){return b(n,s,L[c])}));Y.forEach((function(n,e){!function(n,t,e,r){var o=G(null,n);o.textContent=t,o.style[e]=r+"px"}(t.root,D[e],w,d(n/x))}));var H=t.grid;H&&(o(H.color||"#eee",H[T],H.dash),N.beginPath(),Y.forEach((function(n){var t,e,r,o;0==u?(e=0,o=L[f],t=r=n):(t=0,r=L[f],e=o=n),N.moveTo(t,e),N.lineTo(r,o)})),N.stroke())}))}(),function(){t.forEach((function(n,e){e>0&&function(n,t,e,r,u,a,i,l){var c;o(u,a,i,l);var f=!1;N.beginPath();for(var s=B;V>=s;s++){var v=K(n[s],e,L[T]),m=I(t[s],r,L[W]);null==m?(f=!0,N.moveTo(v,c)):(c=m,f?(N.moveTo(v,m),f=!1):N.lineTo(v,m))}N.stroke()}(X[0],X[e],j[t[0].scale],j[n.scale],n.color,n[T],n.dash,n.fill)}))}()}Q(B,V),c.appendChild(L),r&&(J=G("vt",c),O=G("hz",c));var U=G("region",c),Z=G("legend",u),$=t.map((function(n){var t=G("label",Z);return t.style.color=n.color,t.textContent=n.label+": -",t})),_=t.map((function(n,t){if(t>0){var e=G("dot",c);return e.style.background=n.color,e}})),nn=!1;function tn(n){return function(n,t,e,r){var o;e=e||0;for(var u=2147483647>=(r=r||t.length-1);r-e>1;)n>t[o=u?e+r>>1:h((e+r)/2)]?e=o:r=o;return n-t[e]>t[r]-n?r:e}(X[0][B]+n/g*(X[0][V]-X[0][B]),X[0],B,V)}function en(n,t,e){n.style.transform="translate("+t+"px,"+e+"px)"}function rn(){nn=!1,r&&(en(J,an,0),en(O,0,ln));for(var n=tn(an),e=K(X[0][n],j[t[0].scale],g),o=0;t.length>o;o++){if(o>0){var u=I(X[o][n],j[t[o].scale],C);en(_[o],e,u)}$[o][Y].nodeValue=t[o].label+": "+t[o].value(X[o][n])}if(cn){var a=M(on,an),i=D(on,an);U.style.left=a+"px",U.style[T]=i-a+"px"}}var on=null,un=null,an=null,ln=null,cn=!1,fn=null;function sn(){fn=L.getBoundingClientRect()}function vn(n,t,e){t.addEventListener(n,e,{passive:!0})}vn("mousemove",L,(function(n){null==fn&&sn(),an=n.clientX-fn.left,ln=n.clientY-fn.top,nn||(nn=!0,v(rn))})),vn("mousedown",L,(function(n){on=n.clientX-fn.left,un=n.clientY-fn.top,cn=!0})),vn("mouseup",L,(function(){if(cn=!1,an!=on||ln!=un){U.style.left=0,U.style[T]=0;var n=M(on,an),t=D(on,an);Q(tn(n),tn(t))}})),vn("dblclick",L,(function(){0==B&&V==q-1||Q(0,q-1)})),vn("resize",p,s(sn,100)),vn("scroll",p,s(sn,100)),this.root=u}return F.fmtDate=f,F.xOpts=k,F.yOpts=P,F}();
