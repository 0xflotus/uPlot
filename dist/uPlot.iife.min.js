/*! https://github.com/leeoniya/uPlot (v0.1.0) */
var uPlot=function(){"use strict";var n=["January","February","March","April","May","June","July","August","September","October","November","December"],e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function t(n){return n.slice(0,3)}var r=e.map(t),a=n.map(t);function i(n){return(10>n?"0":"")+n}var u="getFullYear",o="getMonth",l="getDate",c={YYYY:function(n){return n[u]()},YY:function(n){return(n[u]()+"").slice(2)},MMMM:function(e){return n[e[o]()]},MMM:function(n){return a[n[o]()]},MM:function(n){return i(n[o]()+1)},M:function(n){return n[o]()+1},DD:function(n){return i(n[l]())},D:function(n){return n[l]()},WWWW:function(n){return e[n.getDay()]},WWW:function(n){return r[n.getDay()]},HH:function(n){return i(n.getHours())},H:function(n){return n.getHours()},h:function(n){var e=n.getHours();return 0==e?12:e>12?e-12:e},AA:function(n){return 12>n.getHours()?"AM":"PM"},aa:function(n){return 12>n.getHours()?"am":"pm"},mm:function(n){return i(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return i(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function f(n){for(var e,t=[],r=/\{([a-z]+)\}|[^{]+/iy;e=r.exec(n);)t.push("{"==e[0][0]?c[e[1]]:e[0]);return function(n){for(var e="",r=0;t.length>r;r++)e+="string"==typeof t[r]?t[r]:t[r](n);return e}}var s=requestAnimationFrame,v=document,m=window,h=devicePixelRatio,d=Math,p=d.abs,g=d.floor,y=d.round,b=d.ceil,x=d.min,w=d.max,M=d.pow,Y=d.log10,D=1/0;function E(n){return"function"==typeof n?n:function(){return n}}function T(n,e){return b(n/e)*e}function C(n){return y(1e6*n)/1e6}var W="width",A="height",H="top",S="bottom",k="left",P="right",F="firstChild",J="nextSibling",L="createElement",z="#000",N="classList",O="mousemove",R="mousedown",V="mouseup",B="dblclick",X="resize",j="scroll",q=Object.assign,G=Array.isArray,I={color:"#eee",width:2},K=1,Q=60,U=Q*Q,Z=24*U,$=365*Z,_=[.001,.002,.005,.01,.02,.05,.1,.2,.5],nn=_.concat([1,5,10,15,30,Q,5*Q,10*Q,15*Q,30*Q,U,2*U,3*U,4*U,6*U,8*U,12*U,Z,2*Z,3*Z,4*Z,5*Z,6*Z,7*Z,8*Z,9*Z,10*Z,$,2*$,5*$,10*$,25*$,50*$,100*$]),en="{M}/{D}",tn=f("{YYYY}"),rn=f(en),an=f(en+"\n{YYYY}"),un=f("{h}{aa}"),on=f("{h}:{mm}{aa}"),ln=f("{h}:{mm}:{ss}{aa}"),cn="\n"+en,fn=f("{h}{aa}"+cn),sn=f("{h}:{mm}{aa}"+cn),vn=f("{h}:{mm}:{ss}{aa}"+cn);function mn(n){var e=n[1]-n[0],t=null,r=null;return n.map((function(n){var a,i=new Date(1e3*n),o=i[u](),c=i[l](),f=c!=r;return $>e?Z>e?U>e?Q>e?K>e||(a=f?vn:ln):a=f?sn:on:a=f?fn:un:a=o!=t?an:rn:a=tn,t=o,r=c,a(i)}))}var hn=f("{YYYY}-{MM}-{DD} {h}:{mm}{aa}");function dn(n){return hn(new Date(1e3*n))}var pn={scale:"x",space:50,height:53,side:0,class:"x-vals",grid:I},gn="Value",yn="Time",bn={scale:"x"},xn=_.concat([1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,1e6,2e6,5e6,1e7,2e7,5e7,1e8,2e8,5e8,1e9]);function wn(n){return n}function Mn(n){return n}var Yn={scale:"y",space:40,width:50,side:1,class:"y-vals",grid:I},Dn={scale:"y",show:!0,band:!1},En={};function Tn(){var n=[];return{sub:function(e){n.push(e)},unsub:function(e){n=n.filter((function(n){return n!=e}))},pub:function(e,t,r,a,i,u,o){n.length>1&&n.forEach((function(n){n!=t&&n.pub(e,t,r,a,i,u,o)}))}}}function Cn(n,e,t){return[n.x].concat(n.y).map((function(n,r){return q({},0==r?e:t,n)}))}function Wn(n){return{x:n[0],y:n.slice(1)}}function An(n,e){var t=this,r=Cn(n.series,bn,Dn),a=Cn(n.axes||{},pn,Yn),i=n.scales=n.scales||{};t.series=Wn(r),t.axes=Wn(a),t.scales=i;var c=q({},{show:!0},n.legend);r.forEach((function(n,e){var t=n.scale;t in i||(i[t]={auto:!0,min:D,max:-D});var r=i[t];r.type=r.type||(0==e?"t":"n"),r.range=E(r.range||(e>0&&"n"==r.type?Jn:Fn)),n.type=n.type||r.type;var a="t"==n.type;n.value=n.value||(a?dn:Mn),n.label=n.label||(a?yn:gn),n.width=n.width||1}));var f,d=q({},{show:!0},n.cursor);function b(n,r,a){f=(e=n)[0].length,Xn(),qn(null!=r?r:t.i0,null!=a?a:t.i1)}function I(n,e,t){n.style[e]=t+"px"}function K(n,e,t,r){An.strokeStyle=n||z,An.lineWidth=e||1,An.lineJoin="round",An.setLineDash(t||[]),An.fillStyle=r||z}t.i0=null,t.i1=null,t.setData=b;var Q=Sn("uplot");null!=n.id&&(Q.id=n.id),null!=n.class&&Q[N].add(n.class),null!=n.title&&(Sn("title",Q).textContent=n.title);var U=Sn("wrap",Q),Z=Sn("plot",U),$=n[W],_=n[A],en=$,tn=_,rn=0,an=0;a.forEach((function(n){var e=n.side,t=null!=n.label?30:0;if(e%2){var r=n[W]+t;en-=r,1==e&&(rn+=r)}else{var a=n[A]+t;tn-=a,2==e&&(an+=a)}n.type=n.type||i[n.scale].type;var u="t"==n.type;n.incrs=n.incrs||(u?nn:xn),n.values=n.values||(u?mn:wn),n.range=E(n.range||(u?Ln:zn)),n.space=E(n.space)}));var un=$-rn,on=_-an,ln=rn+en,cn=an+tn;function fn(n,e,t){var r=n.side,a=r%2,i=Sn((a?"y-":"x-")+e+"-"+r,U);if(i.style.color=n.color,Hn(i,n.class),a){var u=t||n[W];I(i,W,u),I(i,A,tn),I(i,H,an),1==r?(I(i,P,un),un+=u):(I(i,k,ln),ln+=u)}else{var o=t||n[A];I(i,A,o),I(i,W,en),I(i,k,rn),2==r?(I(i,S,on),on+=o):(I(i,H,cn),cn+=o)}return i}function sn(n,e,t,r){n.transformOrigin=e,n.transform="rotate("+t+"deg) translateY("+r+"px)"}a.forEach((function(n){if(n.vals=fn(n,"values"),null!=n.label){var e=n.side,t=e%2,r=Sn("label",fn(n,"labels",30));if(r.textContent=n.label,I(r,A,30),t){I(r,W,tn);var a=r.style;3==e?sn(a,"0 0",90,-30):sn(a,"100% 0",-90,-tn)}}})),I(Z,H,an),I(Z,k,rn),I(U,W,$),I(U,A,_);var vn=function(n,e){var t=v[L]("canvas"),r=t.getContext("2d");return t[W]=y(n*h),t[A]=y(e*h),I(t,W,n),I(t,A,e),{can:t,ctx:r}}(en,tn),hn=vn.can,An=vn.ctx;function Hn(n,e){n[N].add(e)}function Sn(n,e){var t=v[L]("div");return null!=n&&Hn(t,n),null!=e&&e.appendChild(t),t}function kn(n,e,t){return null==n?n:y((1-(n-e.min)/(e.max-e.min))*t)}function Pn(n,e,t){return y((n-e.min)/(e.max-e.min)*t)}function Fn(n,e){return[n,e]}function Jn(n,e){var t=e-n,r=Y(t||p(e)||1),a=g(r),i=M(10,a)/5,u=0==t?i:0,o=C(function(n,e){return g(n/e)*e}(n-u,i)),l=C(T(e+u,i));return 0==t?e>0?o=0:0>e&&(l=0):(i>l-e&&(l+=i),i>n-o&&(o-=i),n>=0&&0>o&&(o=0),0>=e&&l>0&&(l=0)),[o,l]}function Ln(n,e,t){var r=new Date(1e3*n),a=+new Date(r[u](),r[o](),r[l]())/1e3;return[n=a+T(n-a,t),e]}function zn(n,e,t){return[C(T(n,t)),e]}var Nn,On,Rn=1;function Vn(n){return 0==n.button}function Bn(n){for(var e;e=n[J];)e.remove();n.remove()}function Xn(){for(var n in i)jn(n)}function jn(n){var e=i[n];e.min!=D&&(e.min=D,e.max=-D,r.forEach((function(e){e.scale==n&&(e.path=null)})))}function qn(n,u){n==t.i0&&u==t.i1||Xn(),t.i0=n,t.i1=u,function(){var n={};for(var a in i)i[a].min==D&&(n[a]=!0);for(var u in r.forEach((function(r,a){var u=r.scale;if(u in n){var o=i[u];if(0==a){var l=o.range(e[0][t.i0],e[0][t.i1]);o.min=l[0],o.max=l[1]}else if(r.show){var c=o.auto?function(n,e,t){for(var r=D,a=-D,i=e;t>=i;i++)r=x(r,n[i]),a=w(a,n[i]);return[r,a]}(e[a],t.i0,t.i1):[0,100];o.min=x(o.min,c[0]),o.max=w(o.max,c[1])}}})),i)if(u in n){var o=i[u];if(null==o.base){var l=o.range(o.min,o.max);o.min=l[0],o.max=l[1]}}for(var c in i)if(c in n){var f=i[c];if(null!=f.base){var s=i[f.base],v=f.range(s.min,s.max);f.min=v[0],f.max=v[1]}}}(),An.clearRect(0,0,hn[W],hn[A]),function(){a.forEach((function(n,e){var t,r=0==e?0:1,a=0==r?W:A,u=0==r?A:W,o=i[n.scale],l=n.vals[F];if(isNaN(o.min))Bn(l);else{var c=o.min,f=o.max,s=function(n,e,t,r){for(var a=t/n,i=0;e.length>i;i++){var u=e[i]*a;if(u>=r)return[e[i],u]}}(f-c,n.incrs,hn[a],n.space(c,f,hn[a])),v=s[0],m=s[1];f=(t=n.range(c,f,v))[1];for(var d=[],p=c=t[0];f>=p;p=C(p+v))d.push(p);var g=0==r?Pn:kn,b=0==r?k:H,x=d.map((function(n){return g(n,o,hn[a])})),w=n.values(d,m);x.forEach((function(e,t){l=function(n,e,t,r,a){var i=n||Sn(null,e);return i.textContent=t,I(i,r,a),i}(l,n.vals,w[t],b,y(e/h))[J]})),l&&Bn(l);var M=n.grid;if(M){var Y=M[W]%2/2;An.translate(Y,Y),K(M.color||"#eee",M[W],M.dash),An.beginPath(),x.forEach((function(n){var e,t,a,i;0==r?(t=0,i=hn[u],e=a=n):(e=0,a=hn[u],t=i=n),An.moveTo(e,t),An.lineTo(a,i)})),An.stroke(),An.translate(-Y,-Y)}}}))}(),function(){r.forEach((function(n,a){a>0&&n.show&&null==n.path&&function(n,e,a,i,u){for(var o,l,c,f=r[n],s=f.path=1==Rn?new Path2D:r[n-1].path,v=f[W],m=v%2/2,h=!1,d=D,p=-D,g=1==Rn?m:hn[W]+m,y=1==Rn?t.i0:t.i1;1==Rn?t.i1>=y:y>=t.i0;y+=Rn)l=Pn(e[y],i,hn[W]),c=kn(a[y],u,hn[A]),-1==Rn&&y==t.i1&&s.lineTo(l,c),null==c?(h=!0,s.moveTo(l,o)):(v>(1==Rn?l-g:g-l)?(d=x(c,d),p=w(c,p)):(h?(s.moveTo(l,c),h=!1):(1==Rn?y>t.i0:t.i1>y)&&(s.lineTo(g,p),s.lineTo(g,d),s.lineTo(g,o),s.lineTo(l,c)),d=p=c,g=l),o=c);f.band&&(-1==Rn&&s.closePath(),Rn*=-1)}(a,e[0],e[a],i[r[0].scale],i[n.scale])})),r.forEach((function(n,e){e>0&&n.show&&function(n){var e=r[n];if(1==Rn){var t=e.path,a=e[W],i=a%2/2;K(e.color,a,e.dash,e.fill),An.translate(i,i),e.band?An.fill(t):An.stroke(t),An.translate(-i,-i)}e.band&&(Rn*=-1)}(e)}))}(),re()}t.setView=qn;var Gn=null,In=null;d.show&&(Nn=Sn("vt",Z),On=Sn("hz",Z),Gn=en/2,In=tn/2);var Kn=Sn("region",Z),Qn=Sn("legend",Q);function Un(n,e){var t=r[n],a=$n[n];t.show=null!=e?e:!t.show,t.show?a[N].remove("off"):(a[N].add("off"),te(_n[n],0,-10))}function Zn(n,e){(G(n)?n:[n]).forEach((function(n){var t=r[n];Un(n,e),t.band&&Un(r[n+1].band?n+1:n-1,e),jn(t.scale)})),qn(t.i0,t.i1)}t.toggle=Zn;var $n=c.show?r.map((function(n,e){var t=Sn(null,Qn);return t.style.color=n.color,t.style.borderBottom=n.width+"px "+(null==n.dash?"solid ":"dashed ")+n.color,t.textContent=n.label+": -",e>0&&fe("click",t,(function(n){Vn(n)&&Zn(e)})),t})):null,_n=r.map((function(n,e){if(e>0&&n.show){var t=Sn("point",Z);return t.style.background=n.color,t}})),ne=!1;function ee(n){var a=i[r[0].scale];return function(n,e,t,r){var a;t=t||0;for(var i=2147483647>=(r=r||e.length-1);r-t>1;)n>e[a=i?t+r>>1:g((t+r)/2)]?t=a:r=a;return n-e[t]>e[r]-n?r:t}(a.min+n/en*(a.max-a.min),e[0],t.i0,t.i1)}function te(n,e,t){n.style.transform="translate("+e+"px,"+t+"px)"}function re(n){ne=!1,d.show&&(te(Nn,Gn,0),te(On,0,In));for(var a=ee(Gn),u=Pn(e[0][a],i[r[0].scale],en),o=0;r.length>o;o++){var l=r[o];if(o>0&&l.show){var f=kn(e[o][a],i[l.scale],tn);null==f&&(f=-10),te(_n[o],u,f)}c.show&&($n[o][F].nodeValue=l.label+": "+l.value(e[o][a]))}if(ue){var s=x(ae,Gn),v=w(ae,Gn);I(Kn,k,s),I(Kn,W,v-s)}!1!==n&&ge.pub(O,t,Gn,In,en,tn,a)}var ae=null,ie=null,ue=!1,oe=null;function le(){oe=hn.getBoundingClientRect()}var ce={passive:!0};function fe(n,e,t){e.addEventListener(n,t,ce)}function se(n,e,t){e.removeEventListener(n,t,ce)}function ve(n){if((null==n||Vn(n))&&ue){if(ue=!1,Gn!=ae||In!=ie){I(Kn,k,0),I(Kn,W,0);var e=x(ae,Gn),r=w(ae,Gn);qn(ee(e),ee(r))}null!=n&&(se(V,v,ve),ge.pub(V,t,Gn,In,en,tn,null))}}var me={};for(var he in me[O]=function(n,e,t,r,a,i){null==oe&&le(),null!=n?(Gn=n.clientX-oe.left,In=n.clientY-oe.top,ne||(ne=!0,s(re))):(Gn=en*(t/a),In=tn*(r/i),re(!1))},me[R]=function(n,e,r,a,i,u){(null==n||Vn(n))&&(ue=!0,null!=n?(ae=n.clientX-oe.left,ie=n.clientY-oe.top,fe(V,v,ve),ge.pub(R,t,ae,ie,en,tn,null)):(ae=en*(r/i),ie=tn*(a/u)))},me[V]=ve,me[B]=function(n){0==t.i0&&t.i1==f-1||(qn(0,f-1),null!=n&&ge.pub(B,t,Gn,In,en,tn,null))},me)he!=V&&fe(he,hn,me[he]);var de=function(n){var e=null;function t(){e=null,n()}return function(){clearTimeout(e),e=setTimeout(t,100)}}(le);fe(X,m,de),fe(j,m,de),t.root=Q;var pe=d.sync,ge=null!=pe?En[pe]=En[pe]||Tn():Tn();ge.sub(t),t.pub=function(n,e,t,r,a,i,u){me[n](null,e,t,r,a,i,u)},b(e,0,e[0].length-1),t.destroy=function(){ge.unsub(t),se(X,m,de),se(j,m,de),Q.remove()},Z.appendChild(hn)}return An.fmtDate=f,An}();
