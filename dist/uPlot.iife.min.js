/*! https://github.com/leeoniya/uPlot (v0.1.0) */
var uPlot=function(){"use strict";var n=["January","February","March","April","May","June","July","August","September","October","November","December"],e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function t(n){return n.slice(0,3)}var r=e.map(t),u=n.map(t);function a(n){return(10>n?"0":"")+n}var o="getFullYear",i="getMonth",c="getDate",l={YYYY:function(n){return n[o]()},YY:function(n){return(n[o]()+"").slice(2)},MMMM:function(e){return n[e[i]()]},MMM:function(n){return u[n[i]()]},MM:function(n){return a(n[i]()+1)},M:function(n){return n[i]()+1},DD:function(n){return a(n[c]())},D:function(n){return n[c]()},WWWW:function(n){return e[n.getDay()]},WWW:function(n){return r[n.getDay()]},HH:function(n){return a(n.getHours())},H:function(n){return n.getHours()},h:function(n){var e=n.getHours();return 0==e?12:e>12?e-12:e},AA:function(n){return 12>n.getHours()?"AM":"PM"},aa:function(n){return 12>n.getHours()?"am":"pm"},mm:function(n){return a(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return a(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function f(n){for(var e,t=[],r=/\{([a-z]+)\}|[^{]+/iy;e=r.exec(n);)t.push("{"==e[0][0]?l[e[1]]:e[0]);return function(n){for(var e="",r=0;t.length>r;r++)e+="string"==typeof t[r]?t[r]:t[r](n);return e}}var s=requestAnimationFrame,m=document,v=window,d=devicePixelRatio,h=Math,g=h.floor,p=h.round,x=h.ceil,y=h.min,M=h.max,D=h.pow,b=h.log10;function Y(n,e){return x(n/e)*e}var w="width",E="height",T="top",W="bottom",H="left",C="right",S="firstChild",A="createElement",k="#000",P=Object.assign,F={color:"#eee",width:1},z=3600,J=24*z,R={scale:"x",space:40,height:30,side:0,class:"x-time",incrs:[1,5,10,15,30,60,300,600,900,1800,z,2*z,3*z,4*z,6*z,8*z,12*z,J,2*J,3*J,4*J,5*J,6*J,7*J,8*J,9*J,10*J,365*J],values:function(n){var e=n[1]-n[0],t=f(J>e?z>e?60>e?"{M}/{DD}\n{h}:{mm}:{ss}{aa}":"{M}/{DD}\n{h}:{mm}{aa}":"{M}/{DD}\n{h}{aa}":"{M}/{D}");return n.map((function(n){return t(new Date(1e3*n))}))},grid:F},L=f("{YYYY}-{MM}-{DD} {h}:{mm}{aa}"),N={label:"Time",scale:"x",value:function(n){return L(new Date(1e3*n))}},O={scale:"y",space:30,width:40,side:1,class:"y-vals",incrs:[.01,.02,.05,.1,.2,.5,1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5,2e5,5e5,1e6,2e6,5e6,1e7,2e7,5e7,1e8,2e8,5e8,1e9],values:function(n){return n},grid:F},V={label:"Value",scale:"y",value:function(n){return n}};function X(n){function e(n,e,t){return[n.x].concat(n.y).map((function(n,r){return P({},0==r?e:t,n)}))}var t=e(n.series,N,V),r=e(n.axes,R,O),u=t.map((function(n){return n.data})),a={},l=n.cursor,f=u[0].length,h=0,x=f-1;function F(n,e,t){n.style[e]=t+"px"}function z(n,e,t,r){tn.strokeStyle=n||k,tn.lineWidth=e||1,tn.setLineDash(t||[]),tn.fillStyle=r||k}var J=rn("chart"),L=rn("plot",J),X=n[w],j=n[E],q=X,B=j,G=0,I=0;r.forEach((function(n){var e=n.side;if(e%2){var t=n[w]=n[w]||40;q-=t,1==e&&(G+=t)}else{var r=n[E]=n[E]||30;B-=r,2==e&&(I+=r)}}));var K=X-G,Q=j-I,U=G+q,Z=I+B;r.forEach((function(n){var e=n.side,t=e%2,r=n.root=rn((t?"y":"x")+"-labels",J);if(t){var u=n[w];F(r,w,u),F(r,E,B),F(r,T,I),1==e?(F(r,C,K),K+=u):(F(r,H,U),U+=u)}else{var a=n[E];F(r,E,a),F(r,w,q),F(r,H,G),2==e?(F(r,W,Q),Q+=a):(F(r,T,Z),Z+=a)}})),F(L,T,I),F(L,H,G),F(J,w,X),F(J,E,j);var $,_,nn=function(n,e){var t=m[A]("canvas"),r=t.getContext("2d");return t[w]=p(n*d),t[E]=p(e*d),F(t,w,n),F(t,E,e),{can:t,ctx:r}}(q,B),en=nn.can,tn=nn.ctx;function rn(n,e){var t=m[A]("div");return null!=n&&(t.className=n),null!=e&&e.appendChild(t),t}function un(n,e,t){return null==n?n:p((1-(n-e.min)/(e.max-e.min))*t)}function an(n,e,t){return p((n-e.min)/(e.max-e.min)*t)}function on(e,l){h=e,x=l,function(){a={},t.forEach((function(n,e){0==e?a[n.scale]={min:u[0][h],max:u[0][x]}:function(n,e){n in a||(a[n]={min:1/0,max:-1/0});for(var t=a[n],r=h;x>=r;r++)t.min=y(t.min,e[r]),t.max=M(t.max,e[r]);var u=b(t.max-t.min),o=g(u),i=D(10,o)/2;t.min=y(function(n,e){return g(n/e)*e}(t.min,i),t.min),t.max=M(Y(t.max,i),t.max)}(n.scale,u[e])}))}(),tn.clearRect(0,0,en[w],en[E]),r.forEach((function(n){!function(n){for(;n[S];)n[S].remove()}(n.root)})),function(){r.forEach((function(e,t){var r,u=0==t?0:1,l=0==u?w:E,f=0==u?E:w,s=a[e.scale],m=s.min,v=s.max,h=function(n,e,t,r){for(var u=t/n,a=0;e.length>a;a++){var o=e[a]*u;if(o>=r)return[e[a],o]}}(v-m,e.incrs,n[l],e.space),g=h[0],x=h[1];0==t&&(m=(r=function(n,e,t){var r=new Date(1e3*n),u=+new Date(r[o](),r[i](),r[c]())/1e3;return[u+Y(n-u,t),e]}(m,v,g))[0],v=r[1]);for(var y=[],M=m;v>=M;M+=g)y.push(M);var D=e.values(y,x),b=0==u?an:un,W=0==u?H:T,C=y.map((function(n){return b(n,s,en[l])}));C.forEach((function(n,t){!function(n,e,t,r){var u=rn(null,n);u.textContent=e,F(u,t,r)}(e.root,D[t],W,p(n/d))}));var S=e.grid;S&&(z(S.color||"#eee",S[w],S.dash),tn.beginPath(),C.forEach((function(n){var e,t,r,a;0==u?(t=0,a=en[f],e=r=n):(e=0,r=en[f],t=a=n),tn.moveTo(e,t),tn.lineTo(r,a)})),tn.stroke())}))}(),function(){t.forEach((function(n,e){e>0&&function(n,e,t,r,u,a,o,i){var c;z(u,a,o,i);var l=!1;tn.beginPath();for(var f=h;x>=f;f++){var s=an(n[f],t,en[w]),m=un(e[f],r,en[E]);null==m?(l=!0,tn.moveTo(s,c)):(c=m,l?(tn.moveTo(s,m),l=!1):tn.lineTo(s,m))}tn.stroke()}(u[0],u[e],a[t[0].scale],a[n.scale],n.color,n[w],n.dash,n.fill)}))}()}on(h,x),L.appendChild(en),l&&($=rn("vt",L),_=rn("hz",L));var cn=rn("region",L),ln=rn("legend",J),fn=t.map((function(n){var e=rn("label",ln);return e.style.color=n.color,e.textContent=n.label+": -",e})),sn=t.map((function(n,e){if(e>0){var t=rn("dot",L);return t.style.background=n.color,t}})),mn=!1;function vn(n){return function(n,e,t,r){var u;t=t||0;for(var a=2147483647>=(r=r||e.length-1);r-t>1;)n>e[u=a?t+r>>1:g((t+r)/2)]?t=u:r=u;return n-e[t]>e[r]-n?r:t}(u[0][h]+n/q*(u[0][x]-u[0][h]),u[0],h,x)}function dn(n,e,t){n.style.transform="translate("+e+"px,"+t+"px)"}function hn(){mn=!1,l&&(dn($,xn,0),dn(_,0,yn));for(var n=vn(xn),e=an(u[0][n],a[t[0].scale],q),r=0;t.length>r;r++){if(r>0){var o=un(u[r][n],a[t[r].scale],B);dn(sn[r],e,o)}fn[r][S].nodeValue=t[r].label+": "+t[r].value(u[r][n])}if(Mn){var i=y(gn,xn),c=M(gn,xn);F(cn,H,i),F(cn,w,c-i)}}var gn=null,pn=null,xn=null,yn=null,Mn=!1,Dn=null;function bn(){Dn=en.getBoundingClientRect()}function Yn(n,e,t){e.addEventListener(n,t,{passive:!0})}Yn("mousemove",en,(function(n){null==Dn&&bn(),xn=n.clientX-Dn.left,yn=n.clientY-Dn.top,mn||(mn=!0,s(hn))})),Yn("mousedown",en,(function(n){gn=n.clientX-Dn.left,pn=n.clientY-Dn.top,Mn=!0})),Yn("mouseup",en,(function(){if(Mn=!1,xn!=gn||yn!=pn){F(cn,H,0),F(cn,w,0);var n=y(gn,xn),e=M(gn,xn);on(vn(n),vn(e))}})),Yn("dblclick",en,(function(){0==h&&x==f-1||on(0,f-1)}));var wn=function(n){var e=null;function t(){e=null,n()}return function(){clearTimeout(e),e=setTimeout(t,100)}}(bn);Yn("resize",v,wn),Yn("scroll",v,wn),this.root=J}return X.fmtDate=f,X}();
