/*! https://github.com/leeoniya/uPlot (v1.2.0) */
var uPlot=function(){"use strict";function n(n,t,e,r){var i;e=e||0;for(var o=2147483647>=(r=r||t.length-1);r-e>1;)n>t[i=o?e+r>>1:l((e+r)/2)]?e=i:r=i;return n-t[e]>t[r]-n?r:e}function t(n,t,e,r){var i,o,a=10==e?h:v;return n==t&&(n/=e,t*=e),r?(n=i=c(e,l(a(n))),t=o=c(e,u(a(t)))):(i=c(e,l(a(n))),o=c(e,l(a(t))),n=y(n,i),t=b(t,o)),[+n.toFixed(S.get(i)),+t.toFixed(S.get(o))]}function e(n,t,e,r){if(n==t&&(null==n||0==n))return[0,100];var i=t-n,a=i||o(t)||1e3,u=h(a),s=c(10,l(u)),f=a*e,v=t+f,m=k(y(n-f,s/100)),d=k(b(v,s/100));return r&&(0==i?t>0?m=0:0>t&&(d=0):(n>=0&&0>m&&(m=0),0>=t&&d>0&&(d=0))),[m,d]}var r=new Intl.NumberFormat(navigator.language).format,i=Math,o=i.abs,l=i.floor,a=i.round,u=i.ceil,s=i.min,f=i.max,c=i.pow,h=i.log10,v=i.log2,m=i.PI,d=1/0;function p(n,t){return a(n/t)*t}function g(n,t,e){return s(f(n,t),e)}function x(n){return"function"==typeof n?n:function(){return n}}function w(n,t){return t}function b(n,t){return u(n/t)*t}function y(n,t){return l(n/t)*t}function M(n){return a(1e3*n)/1e3}function k(n){return a(1e6*n)/1e6}var S=new Map;function T(n,t,e,r){for(var i=[],l=t;e>l;l++)for(var a=c(n,l),u=o(l),s=0;r.length>s;s++){var f=+(r[s]*a).toFixed(u);i.push(f),S.set(f,1>f?u:0)}return i}var D=Array.isArray;function E(n){return"object"==typeof n&&null!==n}function _(n){var t;if(D(n))t=n.map(_);else if(E(n))for(var e in t={},n)t[e]=_(n[e]);else t=n;return t}function W(n){for(var t=arguments,e=1;t.length>e;e++){var r=t[e];for(var i in r)E(n[i])?W(n[i],_(r[i])):n[i]=_(r[i])}return n}var Y="width",z="height",F="top",C="bottom",A="left",H="right",P="#000",N="mousemove",I="mousedown",V="mouseup",L="mouseenter",B="mouseleave",O="dblclick",R="resize",U="scroll",j="u-off",J="u-label",G=requestAnimationFrame,Z=document,q=window,X=devicePixelRatio;function K(n,t){null!=t&&n.classList.add(t)}function Q(n,t){n.classList.remove(t)}function $(n,t,e){n.style[t]=e+"px"}function nn(n,t,e,r){var i=Z.createElement(n);return null!=t&&K(i,t),null!=e&&e.insertBefore(i,r),i}function tn(n,t){return nn("div",n,t)}function en(n,t,e,r,i){n.style.transform="translate("+t+"px,"+e+"px)",0>t||0>e||t>r||e>i?K(n,j):Q(n,j)}var rn={passive:!0};function on(n,t,e){t.addEventListener(n,e,rn)}function ln(n,t,e){t.removeEventListener(n,e,rn)}var an=["January","February","March","April","May","June","July","August","September","October","November","December"],un=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function sn(n){return n.slice(0,3)}var fn=un.map(sn),cn=an.map(sn),hn={MMMM:an,MMM:cn,WWWW:un,WWW:fn};function vn(n){return(10>n?"0":"")+n}var mn={YYYY:function(n){return n.getFullYear()},YY:function(n){return(n.getFullYear()+"").slice(2)},MMMM:function(n,t){return t.MMMM[n.getMonth()]},MMM:function(n,t){return t.MMM[n.getMonth()]},MM:function(n){return vn(n.getMonth()+1)},M:function(n){return n.getMonth()+1},DD:function(n){return vn(n.getDate())},D:function(n){return n.getDate()},WWWW:function(n,t){return t.WWWW[n.getDay()]},WWW:function(n,t){return t.WWW[n.getDay()]},HH:function(n){return vn(n.getHours())},H:function(n){return n.getHours()},h:function(n){var t=n.getHours();return 0==t?12:t>12?t-12:t},AA:function(n){return 12>n.getHours()?"AM":"PM"},aa:function(n){return 12>n.getHours()?"am":"pm"},a:function(n){return 12>n.getHours()?"a":"p"},mm:function(n){return vn(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return vn(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function dn(n,t){t=t||hn;for(var e,r=[],i=/\{([a-z]+)\}|[^{]+/gi;e=i.exec(n);)r.push("{"==e[0][0]?mn[e[1]]:e[0]);return function(n){for(var e="",i=0;r.length>i;i++)e+="string"==typeof r[i]?r[i]:r[i](n,t);return e}}var pn=(new Intl.DateTimeFormat).resolvedOptions().timeZone,gn=[1,2,5],xn=T(10,-16,0,gn),wn=(T(2,-53,53,[1]),T(10,0,16,gn)),bn=xn.concat(wn),yn=3600,Mn=24*yn,kn=30*Mn,Sn=365*Mn,Tn=[5e-4].concat(T(10,-3,0,gn),[1,5,10,15,30,60,300,600,900,1800,yn,2*yn,3*yn,4*yn,6*yn,8*yn,12*yn,Mn,2*Mn,3*Mn,4*Mn,5*Mn,6*Mn,7*Mn,8*Mn,9*Mn,10*Mn,15*Mn,kn,2*kn,3*kn,4*kn,6*kn,Sn,2*Sn,5*Sn,10*Sn,25*Sn,50*Sn,100*Sn]);function Dn(n,t){return n.map((function(n){return n.map((function(e,r){return 0==r||8==r||null==e?e:t(1==r||0==n[8]?e:n[1]+e)}))}))}var En="{YYYY}",_n="\n"+En,Wn="{M}/{D}",Yn="\n"+Wn,zn=Yn+"/{YY}",Fn="{aa}",Cn="{h}:{mm}"+Fn,An="\n"+Cn,Hn=":{ss}",Pn=null,Nn=[[Sn,En,Pn,Pn,Pn,Pn,Pn,Pn,1],[28*Mn,"{MMM}",_n,Pn,Pn,Pn,Pn,Pn,1],[Mn,Wn,_n,Pn,Pn,Pn,Pn,Pn,1],[yn,"{h}"+Fn,zn,Pn,Yn,Pn,Pn,Pn,1],[60,Cn,zn,Pn,Yn,Pn,Pn,Pn,1],[1,Hn,zn+" "+Cn,Pn,Yn+" "+Cn,Pn,An,Pn,1],[.001,Hn+".{fff}",zn+" "+Cn,Pn,Yn+" "+Cn,Pn,An,Pn,1]];function In(n,t){return function(e,r,i,o,l){var a,u,s,f,c,h,v=t.find((function(n){return l>=n[0]}))||t[t.length-1];return r.map((function(t){var e=n(t),r=e.getFullYear(),i=e.getMonth(),o=e.getDate(),l=e.getHours(),m=e.getMinutes(),d=e.getSeconds(),p=r!=a&&v[2]||i!=u&&v[3]||o!=s&&v[4]||l!=f&&v[5]||m!=c&&v[6]||d!=h&&v[7]||v[1];return a=r,u=i,s=o,f=l,c=m,h=d,p(e)}))}}function Vn(n,t,e){return new Date(n,t,e)}function Ln(n,t){return t(n)}function Bn(n,t){return function(e,r){return t(n(r))}}var On=[0,0],Rn={show:!0,x:!0,y:!0,lock:!1,move:function(n,t,e){return On[0]=t,On[1]=e,On},points:{show:function(n,t){var e=n.series[t],r=tn();r.style.background=e.stroke||P;var i=lt(e.width,1),o=(i-1)/-2;return $(r,Y,i),$(r,z,i),$(r,"marginLeft",o),$(r,"marginTop",o),r}},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,_x:!1,_y:!1},focus:{prox:-1},locked:!1,left:-10,top:-10,idx:null,dataIdx:function(n,t,e){return e}},Un={show:!0,stroke:"rgba(0,0,0,0.07)",width:2,filter:w},jn=W({},Un,{size:10}),Jn='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Gn="bold "+Jn,Zn={show:!0,scale:"x",space:50,gap:5,size:50,labelSize:30,labelFont:Gn,side:2,grid:Un,ticks:jn,font:Jn,rotate:0},qn={show:!0,scale:"x",auto:!1,sorted:1,min:d,max:-1/0,idxs:[]};function Xn(n,t){return t.map((function(n){return null==n?"":r(n)}))}function Kn(n,t,e,r,i,o,l){for(var a=[],u=S.get(i),s=e=l?e:+b(e,i).toFixed(u);r>=s;s=+(s+i).toFixed(u))a.push(s);return a}function Qn(n,t,e,r,i){var o=[],a=n.scales[n.axes[t].scale].log;i=c(a,l((10==a?h:v)(e)));var u=e;do{o.push(u),i*a>(u=+(u+i).toFixed(S.get(i)))||(i=u)}while(r>=u);return o}var $n=/./,nt=/[12357]/,tt=/[125]/,et=/1/;function rt(n,t,e){var r=n.axes[e],i=r.scale;if(2==n.scales[i].log)return t;var o=n.valToPos,l=r.space(),a=o(10,i),u=o(9,i)-a<l?o(7,i)-a<l?o(5,i)-a<l?et:tt:nt:$n;return t.map((function(n){return u.test(n)?n:null}))}function it(n,t){return r(t)}var ot={show:!0,scale:"y",space:30,gap:5,size:50,labelSize:30,labelFont:Gn,side:3,grid:Un,ticks:jn,font:Jn,rotate:0};function lt(n,t){return M((3+2*(n||1))*t)}function at(n,t){var e=n.scales[n.series[t].scale];return 3==e.distr?e.min:0}var ut={scale:"y",auto:!0,sorted:0,show:!0,band:!1,spanGaps:!1,alpha:1,points:{show:function(n,t){var e=lt(n.series[t].width,X),r=n.series[0].idxs;return n.bbox.width/e/2>=r[1]-r[0]}},values:null,min:d,max:-1/0,idxs:[],path:null,clip:null},st={time:!0,auto:!0,distr:1,log:10,min:null,max:null},ft=W({},st,{time:!1}),ct={};function ht(){var n=[];return{sub:function(t){n.push(t)},unsub:function(t){n=n.filter((function(n){return n!=t}))},pub:function(t,e,r,i,o,l,a){n.length>1&&n.forEach((function(n){n!=e&&n.pub(t,e,r,i,o,l,a)}))}}}function vt(n,t,e,r){return(r?[n[0],n[1]].concat(n.slice(2)):[n[0]].concat(n.slice(1))).map((function(n,r){return mt(n,r,t,e)}))}function mt(n,t,e,r){return W({},0==t||n&&n.side%2==0?e:r,n)}function dt(n,t){return 3==t.distr?h(n/t.min)/h(t.max/t.min):(n-t.min)/(t.max-t.min)}function pt(n,t,e,r){return r+(1-dt(n,t))*e}function gt(n,t,e,r){return r+dt(n,t)*e}function xt(n,t,e){return[t,e>t?e:e+86400]}function wt(n,t,r){return 0==r-t?e(t,r,0,!0):[t,r]}function bt(n,t,r){return e(t,r,.1,!0)}function yt(n,e,r,i){return t(e,r,n.scales[i].log,!1)}var Mt=yt;function kt(n){return 0==n.button}function St(n){var t;return[n=n.replace(/\d+/,(function(n){return t=a(n*X)})),t]}function Tt(t,e,r){var i={},u=i.root=tn("uplot");null!=t.id&&(u.id=t.id),K(u,t.class),t.title&&(tn("u-title",u).textContent=t.title);var v=nn("canvas"),y=i.ctx=v.getContext("2d"),S=tn("u-wrap",u),T=tn("u-under",S);S.appendChild(v);var E=tn("u-over",S);((t=_(t)).plugins||[]).forEach((function(n){n.opts&&(t=n.opts(i,t)||t)}));var rn=!1,an=i.series=vt(t.series||[],qn,ut,!1),un=i.axes=vt(t.axes||[],Zn,ot,!0),sn=i.scales=W({},{x:st,y:ft},t.scales),fn=W({x:a(ot.size/2),y:a(Zn.size/3)},t.gutters),cn=t.tzDate||function(n){return new Date(1e3*n)},hn=t.fmtDate||dn,vn=function(n){return function(t,e,r,i,o,a){var u=[],s=o>=kn&&Sn>o,f=n(r),c=f/1e3,h=Vn(f.getFullYear(),f.getMonth(),s?1:f.getDate()),v=h/1e3;if(s)for(var m=o/kn,d=c==v?c:Vn(h.getFullYear(),h.getMonth()+m,1)/1e3,p=new Date(1e3*d),g=p.getFullYear(),x=p.getMonth(),w=0;i>=d;w++){var y=Vn(g,x+m*w,1);(d=(+y+(y-n(y/1e3)))/1e3)>i||u.push(d)}else{var S=Mn>o?o:Mn,T=v+(l(r)-l(c))+b(c-v,S);u.push(T);for(var D=n(T),E=D.getHours()+D.getMinutes()/60+D.getSeconds()/yn,_=o/yn,W=a/t.axes[e].space();(T=M(T+o))<=i;)if(_>1){var Y=l(k(E+_))%24,z=n(T).getHours()-Y;z>1&&(z=-1),E=(E+_)%24,.7>M(((T-=z*yn)-u[u.length-1])/o)*W||u.push(T)}else u.push(T)}return u}}(cn),mn=In(cn,Dn(Nn,hn)),pn=Bn(cn,Ln("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",hn)),gn={};for(var xn in sn){var En=sn[xn];null==En.min&&null==En.max||(gn[xn]={min:En.min,max:En.max})}var _n,Wn,Yn=W({show:!0,live:!0},t.legend),zn=Yn.show,Fn=[],Cn=!1;if(zn){_n=nn("table","u-legend",u);var An=an[1]?an[1].values:null;if(Cn=null!=An){var Hn=nn("tr","u-thead",_n);for(var Pn in nn("th",null,Hn),Wn=An(i,1,0))nn("th",J,Hn).textContent=Pn}else Wn={_:0},K(_n,"u-inline"),Yn.live&&K(_n,"u-live")}var On=0,Un=0,jn=0,Jn=0,Gn=0,$n=0,nt=0,tt=0,et=0,dt=0;function Tt(n,t){i.width=On=jn=n,i.height=Un=Jn=t,Gn=$n=0,function(){var n=!1,t=!1,e=!1,r=!1;un.forEach((function(i){if(i.show){var o=i.side,l=o%2,a=i.size+(i.labelSize=null!=i.label?i.labelSize||30:0);a>0&&(l?(jn-=a,3==o?(Gn+=a,r=!0):e=!0):(Jn-=a,0==o?($n+=a,n=!0):t=!0))}})),(n||t)&&(e||(jn-=fn.x),r||(jn-=fn.x,Gn+=fn.x)),(r||e)&&(t||(Jn-=fn.y),n||(Jn-=fn.y,$n+=fn.y))}(),function(){var n=Gn+jn,t=$n+Jn,e=Gn,r=$n;function i(i,o){switch(i){case 1:return(n+=o)-o;case 2:return(t+=o)-o;case 3:return(e-=o)+o;case 0:return(r-=o)+o}}un.forEach((function(n){var t=n.side;n._pos=i(t,n.size),null!=n.label&&(n._lpos=i(t,n.labelSize))}))}();var e=i.bbox;nt=e.left=p(Gn*X,.5),tt=e.top=p($n*X,.5),et=e.width=p(jn*X,.5),dt=e.height=p(Jn*X,.5),$(T,A,Gn),$(T,F,$n),$(T,Y,jn),$(T,z,Jn),$(E,A,Gn),$(E,F,$n),$(E,Y,jn),$(E,z,Jn),$(S,Y,On),$(S,z,Un),v.width=a(On*X),v.height=a(Un*X),Ae(),rn&&ye(Ft,sn[Ft].min,sn[Ft].max),rn&&je("setSize")}i.bbox={},i.setSize=function(n){Tt(n.width,n.height)};var Dt=i.cursor=W({},Rn,t.cursor);Dt.points.show=x(Dt.points.show);var Et=i.focus=W({},t.focus||{alpha:.3},Dt.focus),_t=Et.prox>=0,Wt=[null];function Yt(n,t){var e=n.scale,r=sn[e]=W({},0==t?st:ft,sn[e]),o=r.time,l=3==r.distr;r.range=x(r.range||(o?xt:0==t?l?Mt:wt:l?yt:bt));var a=n.value;if(n.value=o?function(n){return"string"==typeof n}(a)?Bn(cn,Ln(a,hn)):a||pn:a||it,n.label=n.label||(o?"Time":"Value"),t>0){n.width=null==n.width?1:n.width,n.paths=n.paths||ie,n.fillTo=n.fillTo||at;var u=lt(n.width,1);n.points=W({},{size:u,width:f(1,.2*u)},n.points),n.points.show=x(n.points.show),n._paths=null}if(zn&&Fn.splice(t,0,function(n,t){if(0==t&&(Cn||!Yn.live))return null;var e=[],r=nn("tr","u-series",_n,_n.childNodes[t]);K(r,n.class),n.show||K(r,j);var i=nn("th",null,r),o=tn("u-marker",i);n.width&&(o.style.borderColor=n.stroke),o.style.backgroundColor=n.fill;var l=tn(J,i);for(var a in l.textContent=n.label,t>0&&(on("click",i,(function(t){Dt.locked||kt(t)&&Me(an.indexOf(n),{show:!n.show},Je.setSeries)})),_t&&on(L,i,(function(){Dt.locked||Me(an.indexOf(n),{focus:!0},Je.setSeries)}))),Wn){var u=nn("td","u-value",r);u.textContent="--",e.push(u)}return e}(n,t)),Dt.show){var s=function(n,t){if(t>0){var e=Dt.points.show(i,t);if(e)return K(e,"u-cursor-pt"),K(e,n.class),en(e,-10,-10,jn,Jn),E.insertBefore(e,Wt[t]),e}}(n,t);s&&Wt.splice(t,0,s)}}i.addSeries=function(n,t){n=mt(n,t=null==t?an.length:t,qn,ut),an.splice(t,0,n),Yt(an[t],t)},i.delSeries=function(n){an.splice(n,1),zn&&Fn.splice(n,1)[0][0].parentNode.remove(),Wt.length>1&&Wt.splice(n,1)[0].remove()},an.forEach(Yt);var zt,Ft=an[0].scale,Ct=sn[Ft].distr;for(var At in sn){var Ht=sn[At];null!=Ht.from&&(sn[At]=W({},sn[Ht.from],Ht))}un.forEach((function(n){if(n.show){var t=sn[n.scale];null==t&&(n.scale=n.side%2?an[1].scale:Ft,t=sn[n.scale]);var e=t.time;n.space=x(n.space),n.rotate=x(n.rotate),n.incrs=x(n.incrs||(2==t.distr?wn:e?Tn:bn)),n.splits=x(n.splits||(e&&1==t.distr?vn:3==t.distr?Qn:Kn));var r=n.values;n.values=e?D(r)?In(cn,Dn(r,hn)):r||mn:r||Xn,n.filter=x(n.filter||(3==t.distr?rt:w)),n.font=St(n.font),n.labelFont=St(n.labelFont)}}));var Pt=null,Nt=null,It=an[0].idxs,Vt=null,Lt=!1;function Bt(n,t){if((n=n||[])[0]=n[0]||[],i.data=n,e=n.slice(),zt=(Vt=e[0]).length,2==Ct&&(e[0]=Vt.map((function(n,t){return t}))),ae(),je("setData"),Lt=!0,!1!==t){var r=sn[Ft];r.auto?Ot():ye(Ft,r.min,r.max)}}function Ot(){var n,t;zt>0?(Pt=It[0]=0,Nt=It[1]=zt-1,n=2==Ct?Pt:e[0][Pt],t=2==Ct?Nt:e[0][Nt]):(Pt=It[0]=n=null,Nt=It[1]=t=null),ye(Ft,n,t)}function Rt(n,t,e,r){y.strokeStyle=n||P,y.lineWidth=t,y.lineJoin="round",y.setLineDash(e||[]),y.fillStyle=r||P}function Ut(){if(De)_e=!0;else{var t=_(sn);for(var r in t){var o=t[r],l=gn[r];if(null!=l)W(o,l),r==Ft&&ae();else if(r!=Ft)if(0==zt&&null==o.from){var a=o.range(i,null,null,r);o.min=a[0],o.max=a[1]}else o.min=d,o.max=-1/0}if(zt>0)for(var u in an.forEach((function(r,o){var l=r.scale,a=t[l];if(0==o){var u=a.range(i,a.min,a.max,l);a.min=u[0],a.max=u[1],Pt=n(a.min,e[0]),Nt=n(a.max,e[0]),a.min>e[0][Pt]&&Pt++,e[0][Nt]>a.max&&Nt--,r.min=Vt[Pt],r.max=Vt[Nt]}else if(r.show&&null==gn[l]){var c=r.min==d?a.auto&&r.auto?function(n,t,e,r){var i=d,o=-1/0;if(1==r)i=n[t],o=n[e];else if(-1==r)i=n[e],o=n[t];else for(var l=t;e>=l;l++)null!=n[l]&&(i=s(i,n[l]),o=f(o,n[l]));return[i,o]}(e[o],Pt,Nt,r.sorted):[null,null]:[r.min,r.max];a.min=s(a.min,r.min=c[0]),a.max=f(a.max,r.max=c[1])}r.idxs[0]=Pt,r.idxs[1]=Nt})),t){var c=t[u];if(null==c.from&&c.min!=d&&null==gn[u]){var h=c.range(i,c.min,c.max,u);c.min=h[0],c.max=h[1]}}for(var v in t){var m=t[v];if(null!=m.from){var p=t[m.from];if(p.min!=d){var g=m.range(i,p.min,p.max,v);m.min=g[0],m.max=g[1]}}}var x={};for(var w in t){var b=t[w],y=sn[w];y.min==b.min&&y.max==b.max||(y.min=b.min,y.max=b.max,x[w]=!0)}for(var M in an.forEach((function(n){x[n.scale]&&(n._paths=null)})),x)je("setScale",M);for(var k in gn)gn[k]=null;Dt.show&&Fe()}}i.setData=Bt;var jt,Jt,Gt,Zt,qt,Xt,Kt,Qt,$t,ne,te,ee=1;function re(n,t,e){var r=n[n.length-1];r&&r[0]==t?r[1]=e:n.push([t,e])}function ie(n,t,r,i){var o,l,u=an[t],c=e[0],h=e[t],v=sn[Ft],m=sn[u.scale],p=1==ee?{stroke:new Path2D,fill:null,clip:null}:an[t-1]._paths,g=p.stroke,x=M(u.width*X),w=d,b=-1/0,y=[],k=a(gt(c[1==ee?r:i],v,et,nt));u.band&&1==ee&&r==Pt&&(x&&g.lineTo(-x,a(pt(h[r],m,dt,tt))),c[0]>v.min&&y.push([nt,k-1]));for(var S=1==ee?r:i;S>=r&&i>=S;S+=ee){var T=a(gt(c[S],v,et,nt));if(T==k)null!=h[S]&&(o=a(pt(h[S],m,dt,tt)),w=s(o,w),b=f(o,b));else{var D=!1;w!=d?(g.lineTo(k,w),g.lineTo(k,b),g.lineTo(k,o),l=k):D=!0,null!=h[S]?(o=a(pt(h[S],m,dt,tt)),g.lineTo(T,o),w=b=o,T-k>1&&null==h[S-1]&&(D=!0)):(w=d,b=-1/0),D&&re(y,l,T),k=T}}if(null==h[i]&&re(y,l,k),u.band){var E,_,W=100*x;-1==ee&&r==Pt&&(_=nt-W,E=r),1==ee&&i==Nt&&(_=nt+et+W,E=i,v.max>c[zt-1]&&y.push([k,nt+et])),g.lineTo(_,a(pt(h[E],m,dt,tt)))}if(1==ee&&(p.clip=function(n,t,e,r){var i=null;if(t.length>0){if(an[n].spanGaps){var o=t[0],l=t[t.length-1];t=[],e&&t.push(o),r&&t.push(l)}i=new Path2D;for(var a=nt,u=0;t.length>u;u++){var s=t[u];i.rect(a,tt,s[0]-a,tt+dt),a=s[1]}i.rect(a,tt,nt+et-a,tt+dt)}return i}(t,y,null==h[r],null==h[i]),null!=u.fill)){var Y=p.fill=new Path2D(g),z=a(pt(u.fillTo(n,t,u.min,u.max),m,dt,tt));Y.lineTo(nt+et,z),Y.lineTo(nt,z)}return u.band&&(ee*=-1),p}function oe(n,t,e,r){var o,l=un[n];if(r>0){var a=l.space(i,n,t,e,r);o=function(n,t,e,r,i){for(var o=r/(t-n),l=0;e.length>l;l++){var a=e[l]*o;if(a>=i&&n+e[l]>n)return[e[l],a]}}(t,e,l.incrs(i,n,t,e,r,a),r,a)}else o=[0,0];return o}function le(n,t,e,r,i,o,l,a,u){var s=l%2/2;y.translate(s,s),Rt(a,l,u),y.beginPath();var f,c,h,v,m=i+(0==r||3==r?-o:o);0==e?(c=i,v=m):(f=i,h=m),n.forEach((function(n,r){null!=t[r]&&(0==e?f=h=n:c=v=n,y.moveTo(f,c),y.lineTo(h,v))})),y.stroke(),y.translate(-s,-s)}function ae(){an.forEach((function(n,t){t>0&&(n.min=d,n.max=-1/0,n._paths=null)}))}function ue(){De?Ee=!0:(y.clearRect(0,0,v.width,v.height),je("drawClear"),function(){un.forEach((function(n,t){if(n.show){var e=sn[n.scale];if(e.min!=d){var r=n.side,o=r%2,l=e.min,u=e.max,s=oe(t,l,u,0==o?jn:Jn),f=s[0],c=s[1],h=n.splits(i,t,l,u,f,c,2==e.distr),v=0==o?gt:pt,p=0==o?et:dt,g=0==o?nt:tt,x=h.map((function(n){return a(v(n,e,p,g))})),w=a(n.gap*X),b=n.ticks,k=b.show?a(b.size*X):0,S=2==e.distr?h.map((function(n){return Vt[n]})):h,T=2==e.distr?Vt[h[1]]-Vt[h[0]]:f,D=n.values(i,n.filter(i,S,t,c,T),t,c,T),E=2==r?n.rotate(i,D,t,c)*-m/180:0,_=a(n._pos*X),W=_+(k+w)*(0==o&&0==r||1==o&&3==r?-1:1),Y=0==o?W:0,z=1==o?W:0;y.font=n.font[0],y.fillStyle=n.stroke||P,y.textAlign=E>0?A:0>E?H:0==o?"center":3==r?H:A,y.textBaseline=E||1==o?"middle":2==r?F:C;var N=1.5*n.font[1];if(D.forEach((function(n,t){null!=n&&(0==o?z=x[t]:Y=x[t],(""+n).split(/\n/gm).forEach((function(n,t){E?(y.save(),y.translate(z,Y+t*N),y.rotate(E),y.fillText(n,0,0),y.restore()):y.fillText(n,z,Y+t*N)})))})),n.label){y.save();var I=a(n._lpos*X);1==o?(z=Y=0,y.translate(I,a(tt+dt/2)),y.rotate((3==r?-m:m)/2)):(z=a(nt+et/2),Y=I),y.font=n.labelFont[0],y.textAlign="center",y.textBaseline=2==r?F:C,y.fillText(n.label,z,Y),y.restore()}b.show&&le(x,b.filter(i,S,t,c,T),o,r,_,k,M(b.width*X),b.stroke);var V=n.grid;V.show&&le(x,V.filter(i,S,t,c,T),o,0==o?2:1,0==o?tt:nt,0==o?dt:et,M(V.width*X),V.stroke,V.dash)}}})),je("drawAxes")}(),zt>0&&function(){an.forEach((function(n,t){if(t>0&&n.show&&null==n._paths){var r=function(n){for(var t=g(Pt-1,0,zt-1),e=g(Nt+1,0,zt-1);null==n[t]&&t>0;)t--;for(;null==n[e]&&zt-1>e;)e++;return[t,e]}(e[t]);n._paths=n.paths(i,t,r[0],r[1])}})),an.forEach((function(n,t){t>0&&n.show&&(n._paths&&function(n){var t=an[n];if(1==ee){var e=t._paths,r=e.stroke,i=e.fill,o=e.clip,l=M(t.width*X),a=l%2/2;Rt(t.stroke,l,t.dash,t.fill),y.globalAlpha=t.alpha,y.translate(a,a),y.save();var u=nt,s=tt,f=et,c=dt,h=l*X/2;0==t.min&&(c+=h),0==t.max&&(s-=h,c+=h),y.beginPath(),y.rect(u,s,f,c),y.clip(),null!=o&&y.clip(o),t.band?(y.fill(r),l&&y.stroke(r)):(l&&y.stroke(r),null!=t.fill&&y.fill(i)),y.restore(),y.translate(-a,-a),y.globalAlpha=1}t.band&&(ee*=-1)}(t),n.points.show(i,t,Pt,Nt)&&function(n){var t=an[n],r=t.points,i=M(r.width*X),o=i%2/2,l=r.width>0,u=(r.size-r.width)/2*X,s=M(2*u);y.translate(o,o),y.save(),y.beginPath(),y.rect(nt-s,tt-s,et+2*s,dt+2*s),y.clip(),y.globalAlpha=t.alpha;for(var f=new Path2D,c=Pt;Nt>=c;c++)if(null!=e[n][c]){var h=a(gt(e[0][c],sn[Ft],et,nt)),v=a(pt(e[n][c],sn[t.scale],dt,tt));f.moveTo(h+u,v),f.arc(h,v,u,0,2*m)}Rt(r.stroke||t.stroke||P,i,null,r.fill||(l?"#fff":t.stroke||P)),y.fill(f),l&&y.stroke(f),y.globalAlpha=1,y.restore(),y.translate(-o,-o)}(t),je("drawSeries",t))}))}(),jt=!0,je("draw"))}function se(t,r){var o=sn[t];if(null==o.from){if(0==zt){var l=o.range(i,r.min,r.max,t);r.min=l[0],r.max=l[1]}if(t==Ft&&(2==o.distr&&zt>0&&(r.min=n(r.min,e[0]),r.max=n(r.max,e[0])),o.time&&un[0].show&&r.max>r.min&&.001>oe(0,r.min,r.max,jn)[0]))return;if(zt>1&&1e-16>r.max-r.min)return;gn[t]=r,jt=!1,Ut(),!jt&&ue(),jt=!1}}i.redraw=function(n){!1!==n?ye(Ft,sn[Ft].min,sn[Ft].max):ue()},i.setScale=se;var fe=!1,ce=Dt.drag,he=ce.x,ve=ce.y;Dt.show&&(Dt.x&&(ne=Dt.left,Jt=tn("u-cursor-x",E)),Dt.y&&(te=Dt.top,Gt=tn("u-cursor-y",E)));var me,de,pe,ge=i.select=W({show:!0,over:!0,left:0,width:0,top:0,height:0},t.select),xe=ge.show?tn("u-select",ge.over?E:T):null;function we(n,t){if(ge.show){for(var e in n)$(xe,e,ge[e]=n[e]);!1!==t&&je("setSelect")}}function be(n){var t=zn?Fn[n][0].parentNode:null;an[n].show?t&&Q(t,j):(t&&K(t,j),Wt.length>1&&en(Wt[n],-10,-10,jn,Jn))}function ye(n,t,e){se(n,{min:t,max:e})}function Me(n,t,e){var r=an[n];if(null!=t.focus&&function(n){n!=pe&&(an.forEach((function(t,e){!function(n,t){var e=an[n];ke(n,t),e.band&&ke(an[n+1].band?n+1:n-1,t)}(e,null==n||0==e||e==n?1:Et.alpha)})),pe=n,ue())}(n),null!=t.show){if(r.show=t.show,be(n),r.band){var o=an[n+1]&&an[n+1].band?n+1:n-1;an[o].show=r.show,be(o)}ye(Ft,sn[Ft].min,sn[Ft].max)}je("setSeries",n,t),e&&Ze.pub("setSeries",i,n,t)}function ke(n,t){an[n].alpha=t,Dt.show&&Wt[n]&&(Wt[n].style.opacity=t),zn&&Fn[n]&&(Fn[n][0].parentNode.style.opacity=t)}function Se(n,t){var e=jn;t!=Ft&&(n=(e=Jn)-n);var r=n/e,i=sn[t],o=i.min,l=i.max;return 3==i.distr?(o=h(o),l=h(l),c(10,o+(l-o)*r)):o+(l-o)*r}function Te(t){return n(Se(t,Ft),e[0],Pt,Nt)}i.setSelect=we,i.setSeries=Me,zn&&_t&&on(B,_n,(function(){Dt.locked||(Me(null,{focus:!1},Je.setSeries),Fe())})),i.valToIdx=function(t){return n(t,e[0])},i.posToIdx=Te,i.posToVal=Se,i.valToPos=function(n,t,e){return t==Ft?gt(n,sn[t],e?et:jn,e?nt:0):pt(n,sn[t],e?dt:Jn,e?tt:0)};var De=!1,Ee=!1,_e=!1,We=!1;function Ye(n){De=!0,n(i),De=!1,_e&&Ut(),We&&Fe(),Ee&&!jt&&ue(),_e=We=Ee=jt=De}i.batch=Ye,i.setCursor=function(n){ne=n.left,te=n.top,Fe()};var ze=0;function Fe(n,t){var r;if(De)We=!0;else{var l;if(ze=0,Qt=ne,$t=te,r=Dt.move(i,ne,te),ne=r[0],te=r[1],Dt.show&&(Dt.x&&en(Jt,a(ne),0,jn,Jn),Dt.y&&en(Gt,0,a(te),jn,Jn)),me=d,0>ne||0==zt||Pt>Nt){l=null;for(var u=0;an.length>u;u++)if(u>0&&Wt.length>1&&en(Wt[u],-10,-10,jn,Jn),zn&&Yn.live){if(0==u&&Cn)continue;for(var f=0;Fn[u].length>f;f++)Fn[u][f].firstChild.nodeValue="--"}_t&&Me(null,{focus:!0},Je.setSeries)}else{l=Te(ne);for(var c=sn[Ft],h=M(gt(e[0][l],c,jn,0)),v=0;an.length>v;v++){var m=an[v],p=Dt.dataIdx(i,v,l),g=p==l?h:M(gt(e[0][p],c,jn,0));if(v>0&&m.show){var x=e[v][p],w=null==x?-10:M(pt(x,sn[m.scale],Jn,0));if(w>0){var b=o(w-te);b>me||(me=b,de=v)}Wt.length>1&&en(Wt[v],g,w,jn,Jn)}if(zn&&Yn.live){if(p==Dt.idx&&!Lt||0==v&&Cn)continue;var y=0==v&&2==Ct?Vt:e[v],k=Cn?m.values(i,v,p):{_:m.value(i,y[p],v,p)},S=0;for(var T in k)Fn[v][S++].firstChild.nodeValue=k[T]}}Lt=!1}if(ge.show&&fe)if(null!=t){var D=Je.scales,E=D[0],_=D[1],W=t.cursor.drag;if(he=W._x,ve=W._y,E){var C=sn[E],H=t.posToVal(t.select.left,E),P=t.posToVal(t.select.left+t.select.width,E);ge.left=gt(H,C,jn,0),ge.width=o(ge.left-gt(P,C,jn,0)),$(xe,A,ge.left),$(xe,Y,ge.width),_||($(xe,F,ge.top=0),$(xe,z,ge.height=Jn))}if(_){var I=sn[_],V=t.posToVal(t.select.top,_),L=t.posToVal(t.select.top+t.select.height,_);ge.top=pt(V,I,Jn,0),ge.height=o(ge.top-pt(L,I,Jn,0)),$(xe,F,ge.top),$(xe,z,ge.height),E||($(xe,A,ge.left=0),$(xe,Y,ge.width=jn))}}else{var B=o(Qt-Zt),O=o($t-qt);he=ce.x&&B>=ce.dist,ve=ce.y&&O>=ce.dist;var R=ce.uni;if(null!=R?he&&ve&&(ve=O>=R,(he=B>=R)||ve||(O>B?ve=!0:he=!0)):ce.x&&ce.y&&(he||ve)&&(he=ve=!0),he){var U=s(Xt,ne),j=o(ne-Xt);$(xe,A,ge.left=U),$(xe,Y,ge.width=j),ve||($(xe,F,ge.top=0),$(xe,z,ge.height=Jn))}if(ve){var J=s(Kt,te),G=o(te-Kt);$(xe,F,ge.top=J),$(xe,z,ge.height=G),he||($(xe,A,ge.left=0),$(xe,Y,ge.width=jn))}he||ve||($(xe,z,ge.height=0),$(xe,Y,ge.width=0))}Dt.idx=l,Dt.left=ne,Dt.top=te,ce._x=he,ce._y=ve,null!=n&&(Ze.pub(N,i,ne,te,jn,Jn,l),_t&&Me(me>Et.prox?null:de,{focus:!0},Je.setSeries)),rn&&je("setCursor")}}var Ce=null;function Ae(){Ce=E.getBoundingClientRect()}function He(n,t,e,r,i,o){Dt.locked||(Pe(n,t,e,r,i,o,0,!1,null!=n),null!=n?0==ze&&(ze=G(Fe)):Fe(null,t))}function Pe(n,t,e,r,o,l,a,u,s){var f;if(null!=n)e=n.clientX-Ce.left,r=n.clientY-Ce.top;else{if(0>e||0>r)return ne=-10,void(te=-10);var c=Je.scales,h=c[0],v=c[1];e=null!=h?gt(t.posToVal(e,h),sn[h],jn,0):jn*(e/o),r=null!=v?pt(t.posToVal(r,v),sn[v],Jn,0):Jn*(r/l)}s&&(e>1&&jn-1>e||(e=p(e,jn)),r>1&&Jn-1>r||(r=p(r,Jn))),u?(Zt=e,qt=r,f=Dt.move(i,e,r),Xt=f[0],Kt=f[1]):(ne=e,te=r)}function Ne(){we({width:0,height:0},!1)}function Ie(n,t,e,r,o,l){(null!=t||kt(n))&&(fe=!0,he=ve=ce._x=ce._y=!1,Pe(n,t,e,r,o,l,0,!0,!1),null!=n&&(on(V,Z,Ve),Ze.pub(I,i,Xt,Kt,jn,Jn,null)))}function Ve(n,t,e,r,o,l){if(null!=t||kt(n)){fe=ce._x=ce._y=!1,Pe(n,t,e,r,o,l,0,!1,!0);var a=ge.width>0||ge.height>0;a&&we(ge),ce.setScale&&a?(Ye((function(){if(he&&ye(Ft,Se(ge.left,Ft),Se(ge.left+ge.width,Ft)),ve)for(var n in sn)n!=Ft&&null==sn[n].from&&ye(n,Se(ge.top+ge.height,n),Se(ge.top,n))})),Ne()):Dt.lock&&(Dt.locked=!Dt.locked,Dt.locked||Fe())}null!=n&&(ln(V,Z,Ve),Ze.pub(V,i,ne,te,jn,Jn,null))}function Le(){if(!Dt.locked){var n=fe;if(fe){var t=!0,e=!0;if(he&&ve&&(t=10>=ne||ne>=jn-10,e=10>=te||te>=Jn-10),he&&t){var r=ne,i=jn-ne,o=s(r,i);o==r&&(ne=0),o==i&&(ne=jn)}if(ve&&e){var l=te,a=Jn-te,u=s(l,a);u==l&&(te=0),u==a&&(te=Jn)}Fe(1),fe=!1}ne=-10,te=-10,Fe(1),n&&(fe=n)}}function Be(n){Ot(),Ne(),null!=n&&Ze.pub(O,i,ne,te,jn,Jn,null)}var Oe,Re={};Re.mousedown=Ie,Re.mousemove=He,Re.mouseup=Ve,Re.dblclick=Be,Re.setSeries=function(n,t,e,r){Me(e,r)},Dt.show&&(on(I,E,Ie),on(N,E,He),on(L,E,Ae),on(B,E,(function(){G(Le)})),on(O,E,Be),Oe=function(n){var t=null;function e(){t=null,n()}return function(){clearTimeout(t),t=setTimeout(e,100)}}(Ae),on(R,q,Oe),on(U,q,Oe),i.syncRect=Ae);var Ue=i.hooks=t.hooks||{};function je(n,t,e){n in Ue&&Ue[n].forEach((function(n){n.call(null,i,t,e)}))}(t.plugins||[]).forEach((function(n){for(var t in n.hooks)Ue[t]=(Ue[t]||[]).concat(n.hooks[t])}));var Je=W({key:null,setSeries:!1,scales:[Ft,null]},Dt.sync),Ge=Je.key,Ze=null!=Ge?ct[Ge]=ct[Ge]||ht():ht();function qe(){Tt(t.width,t.height),je("init",t,e),Bt(e||t.data,!1),gn[Ft]?se(Ft,gn[Ft]):Ot(),we(ge,!1),rn=!0,je("ready")}return Ze.sub(i),i.pub=function(n,t,e,r,i,o,l){Re[n](null,t,e,r,i,o,l)},i.destroy=function(){Ze.unsub(i),ln(R,q,Oe),ln(U,q,Oe),u.remove(),je("destroy")},r?r instanceof HTMLElement?(r.appendChild(u),qe()):r(i,qe):qe(),i}return Tt.assign=W,Tt.fmtNum=r,Tt.rangeNum=e,Tt.rangeLog=t,Tt.fmtDate=dn,Tt.tzDate=function(n,t){var e;return"Etc/UTC"==t?e=new Date(+n+6e4*n.getTimezoneOffset()):t==pn?e=n:(e=new Date(n.toLocaleString("en-US",{timeZone:t}))).setMilliseconds(n.getMilliseconds()),e},Tt}();
