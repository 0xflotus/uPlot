/*! https://github.com/leeoniya/plotty (v0.1.0) */
var uPlot=function(){"use strict";var n=["January","February","March","April","May","June","July","August","September","October","November","December"],t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function e(n){return n.slice(0,3)}var r=t.map(e),u=n.map(e);function i(n){return(10>n?"0":"")+n}var o="getMonth",a="getHours",c={YYYY:function(n){return n.getFullYear()},YY:function(n){return(n.getFullYear()+"").slice(2)},MMMM:function(t){return n[t[o]()]},MMM:function(n){return u[n[o]()]},MM:function(n){return i(n[o]()+1)},M:function(n){return n[o]()+1},DD:function(n){return i(n.getDate())},D:function(n){return n.getDate()},WWWW:function(n){return t[n.getDay()]},WWW:function(n){return r[n.getDay()]},HH:function(n){return i(n[a]())},H:function(n){return n[a]()},h:function(n){var t=n[a]();return t>12?t-12:t},AA:function(n){return 12>n[a]()?"AM":"PM"},aa:function(n){return 12>n[a]()?"am":"pm"},mm:function(n){return i(n.getMinutes())},m:function(n){return n.getMinutes()},ss:function(n){return i(n.getSeconds())},s:function(n){return n.getSeconds()},fff:function(n){return function(n){return(10>n?"00":100>n?"0":"")+n}(n.getMilliseconds())}};function l(n){for(var t,e=[],r=/\{([a-z]+)\}|[^{]+/iy;t=r.exec(n);)e.push("{"==t[0][0]?c[t[1]]:t[0]);return function(n){for(var t="",r=0;e.length>r;r++)t+="string"==typeof e[r]?e[r]:e[r](n);return t}}function f(n){var t=document,e=devicePixelRatio,r=Math,u=r.floor,i=r.round,o=r.ceil,a=r.min,c=r.max,f=r.pow,m=r.log10;if("string"==typeof n.format){var s=l(n.format);n.format=function(n){return s(new Date(1e3*n))}}var d=n.cursor,h=D("chart"),v=function(n,r){var u=t.createElement("canvas"),o=u.getContext("2d");return u.width=i(n*e),u.height=i(r*e),u.style.width=n+"px",u.style.height=r+"px",{can:u,ctx:o}}(n.width,n.height),g=v.can,y=v.ctx,p=n.data,x=p[0].length,M=0,b=x-1,w=n.series,Y={};function D(n,e){var r=t.createElement("div");return null!=n&&(r.className=n),null!=e&&e.appendChild(r),r}function W(n,t,e){return null==n?n:i((1-(n-t.min)/(t.max-t.min))*e)}function C(n,t,e){return i((n-t.min)/(t.max-t.min)*e)}function A(n){n&&(Y={}),Y.t={min:p[0][M],max:p[0][b]},w.forEach((function(n,t){!function(n,t){n in Y||(Y[n]={min:1/0,max:-1/0});for(var e=Y[n],r=M;b>=r;r++)e.min=a(e.min,t[r]),e.max=c(e.max,t[r]);var i=m(e.max-e.min),l=u(i),s=f(10,l);e.min=a(function(n,t){return u(n/t)*t}(e.min,s),e.min),e.max=c(function(n,t){return o(n/t)*t}(e.max,s),e.max)}(n.scale,p[t+1])}))}function S(){A(),y.clearRect(0,0,g.width,g.height),w.forEach((function(n,t){!function(n,t,e,r,u){var i;y.lineWidth=1,y.strokeStyle=e;var o=!1;y.beginPath();for(var a=M;b>=a;a++){var c=C(n[a],r,g.width),l=W(t[a],u,g.height);null==l?(o=!0,y.moveTo(c,i)):(i=l,o?(y.moveTo(c,l),o=!1):y.lineTo(c,l))}y.stroke()}(p[0],p[t+1],n.color,Y.t,Y[n.scale])}))}S(),h.appendChild(g);var E,F,T=requestAnimationFrame;d&&(E=D("vt",h),F=D("hz",h));var k=D("region",h),H=D("legend",h),P=[{color:n.color,label:n.label}].concat(w).map((function(n){var t=D("label",H);return t.style.color=n.color,t.textContent=n.label+": -",t})),J=w.map((function(n){var t=D("dot",h);return t.style.background=n.color,t})),R=!1;function z(t){return function(n,t,e,r){var i;e=e||0;for(var o=2147483647>=(r=r||t.length-1);r-e>1;)n>t[i=o?e+r>>1:u((e+r)/2)]?e=i:r=i;return n-t[e]>t[r]-n?r:e}(p[0][M]+t/n.width*(p[0][b]-p[0][M]),p[0],M,b)}function N(n,t,e){n.style.transform="translate("+t+"px,"+e+"px)"}function V(){R=!1,d&&(N(E,B,0),N(F,0,L));var t=z(B),e=C(p[0][t],Y.t,n.width);P[0].firstChild.nodeValue=n.label+": "+n.format(p[0][t]);for(var r=0;w.length>r;r++){var u=W(p[r+1][t],Y[w[r].scale],n.height);N(J[r],e,u),P[r+1].firstChild.nodeValue=w[r].label+": "+w[r].format(p[r+1][t])}if(O){var i=a(X,B),o=c(X,B);k.style.left=i+"px",k.style.width=o-i+"px"}}var X=null,q=null,B=null,L=null,O=!1,j=g.getBoundingClientRect();function G(n,t,e){t.addEventListener(n,e,{passive:!0})}function I(n,t){M=n,b=t,A(!0),S()}G("mousemove",g,(function(n){B=n.clientX-j.left,L=n.clientY-j.top,R||(R=!0,T(V))})),G("mousedown",g,(function(n){X=n.clientX-j.left,q=n.clientY-j.top,O=!0})),G("mouseup",g,(function(){if(O=!1,B!=X||L!=q){k.style.left=0,k.style.width=0;var n=a(X,B),t=c(X,B);I(z(n),z(t))}})),G("dblclick",g,(function(){0==M&&b==x-1||I(0,x-1)})),this.root=h}return f.fmtdate=l,f}();
